(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{136:function(e,t,r){e.exports=r(154)},144:function(e,t,r){},154:function(e,t,r){"use strict";r.r(t);var n={};r.r(n),r.d(n,"initialState",(function(){return ve})),r.d(n,"reducer",(function(){return he})),r.d(n,"parseViewXml",(function(){return pe}));var a={};r.r(a),r.d(a,"designReducer",(function(){return ge})),r.d(a,"initializeDesign",(function(){return Le})),r.d(a,"newModel",(function(){return ye})),r.d(a,"switchModel",(function(){return be})),r.d(a,"renameModel",(function(){return ze})),r.d(a,"loadedDesign",(function(){return Oe})),r.d(a,"selectCurrentDesign",(function(){return we})),r.d(a,"selectCurrentMesh",(function(){return xe})),r.d(a,"selectCurrentCamera",(function(){return Me})),r.d(a,"selectCurrentField",(function(){return ke})),r.d(a,"selectCurrentShaper",(function(){return Se})),r.d(a,"reducer",(function(){return De}));var i={};r.r(i),r.d(i,"doStartGridHover",(function(){return Ae})),r.d(i,"doStopGridHover",(function(){return Re})),r.d(i,"doStartBallHover",(function(){return Pe})),r.d(i,"doStopBallHover",(function(){return Fe})),r.d(i,"doBallClick",(function(){return Ne})),r.d(i,"doBackgroundClick",(function(){return Te})),r.d(i,"doSetWorkingPlaneGrid",(function(){return _e})),r.d(i,"doChangeOrientation",(function(){return Ie})),r.d(i,"reducer",(function(){return Je}));var o={};r.r(o),r.d(o,"showAlert",(function(){return nt})),r.d(o,"clearAlert",(function(){return at})),r.d(o,"reducer",(function(){return it}));var c={};r.r(c),r.d(c,"startProgress",(function(){return Vt})),r.d(c,"stopProgress",(function(){return Wt})),r.d(c,"reducer",(function(){return qt}));var l={};r.r(l),r.d(l,"MODEL_LOADED",(function(){return ur})),r.d(l,"FILE_EXPORTED",(function(){return dr})),r.d(l,"exportTriggered",(function(){return fr})),r.d(l,"reducer",(function(){return hr})),r.d(l,"parseModelFile",(function(){return pr})),r.d(l,"callObjectMethod",(function(){return gr})),r.d(l,"callStaticMethod",(function(){return Lr})),r.d(l,"createWriteableFile",(function(){return jr})),r.d(l,"writeTextFile",(function(){return Er})),r.d(l,"init",(function(){return yr}));var s={};r.r(s),r.d(s,"reducer",(function(){return Or}));var u={};r.r(u),r.d(u,"init",(function(){return Cr})),r.d(u,"commandsDefined",(function(){return Ar})),r.d(u,"commandTriggered",(function(){return Rr})),r.d(u,"reducer",(function(){return Pr}));var d={};r.r(d),r.d(d,"shaperDefined",(function(){return Fr})),r.d(d,"reducer",(function(){return Nr}));var f={};r.r(f),r.d(f,"reducer",(function(){return Ir})),r.d(f,"init",(function(){return Vr})),r.d(f,"legacyCommandFactory",(function(){return qr})),r.d(f,"createParser",(function(){return Qr}));var m={};r.r(m),r.d(m,"reducer",(function(){return $r}));var v=r(0),h=r.n(v),p=r(33),g=r(21);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r(143);var L=r(95),j=(r(144),r(5)),E=r(13),y=r(1),b=r(112),z=r(66),O=r(15),w=function(e,t,r){return{type:"MESH_CHANGED",payload:{shown:e,selected:t,hidden:r}}},x=function(e){var t=k([e.origin(3)]);return{shown:(new Map).set(t.id,t),selected:new Map,hidden:new Map,groups:[]}},M={shown:new Map,selected:new Map,hidden:new Map,groups:[]},k=function(e){return{id:function(e){for(var t=e.map((function(e){return JSON.stringify(e)})),r=t[0],n=0,a=1;a<t.length;a++)t[a].localeCompare(r)<0&&(n=a,r=t[a]);for(var i="",o=0;o<t.length;o++)i+=t[(n+o)%t.length];return i}(e),vectors:e}},S=r(22),D=r(12),C=.5*(Math.sqrt(5)+1);function A(e){var t=Object(D.a)(e,3),r=t[0],n=void 0===r?0:r,a=t[1],i=void 0===a?0:a,o=t[2],c=void 0===o?1:o,l=n+C*i;return((c>0)-(c<0))*((l>0)-(l<0))}function R(e,t){for(e=Math.abs(e),t=Math.abs(t);0!==t;){var r=[t,e%t];e=r[0],t=r[1]}return e}function P(e,t,r){if((0|e)!==e||(0|t)!==t||(0|r)!==r)throw new TypeError("simplify3 operates only on integers.");var n=(e>0)-(e<0),a=(t>0)-(t<0),i=(r>0)-(r<0);e*=n,t*=a,r*=i,n*=i,a*=i;var o=R(R(e,t),r);return[n*e/o,a*t/o,r/o]}function F(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e)+e)}function N(e,t){var r=Object(D.a)(e,3),n=r[0],a=void 0===n?0:n,i=r[1],o=void 0===i?0:i,c=r[2],l=void 0===c?1:c,s=Object(D.a)(t,3),u=s[0],d=void 0===u?0:u,f=s[1],m=void 0===f?0:f,v=s[2];return P(a*d+o*m,a*m+o*d+o*m,l*(void 0===v?1:v))}function T(e,t){var r=Object(D.a)(e,3),n=r[0],a=void 0===n?0:n,i=r[1],o=void 0===i?0:i,c=r[2],l=void 0===c?1:c,s=Object(D.a)(t,3),u=s[0],d=void 0===u?0:u,f=s[1],m=void 0===f?0:f,v=s[2],h=void 0===v?1:v;return P(a*h+d*l,o*h+m*l,l*h)}function _(e,t){var r=Object(D.a)(e,3),n=r[0],a=void 0===n?0:n,i=r[1],o=void 0===i?0:i,c=r[2],l=void 0===c?1:c,s=Object(D.a)(t,3),u=s[0],d=void 0===u?0:u,f=s[1],m=void 0===f?0:f,v=s[2],h=void 0===v?1:v;return P(a*h-d*l,o*h-m*l,l*h)}function I(e,t){return Object(O.a)(t.values()).map((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0];return N(e,t)}))}function B(e){var t=Object(D.a)(e,3),r=t[0],n=void 0===r?0:r,a=t[1],i=void 0===a?0:a,o=t[2];return[0-n,0-i,void 0===o?1:o]}function G(e){var t=Object(D.a)(e,3),r=t[0],n=void 0===r?0:r,a=t[1],i=void 0===a?0:a,o=t[2];return(n+C*i)/(void 0===o?1:o)}function H(e,t){var r=N,n=T,a=_,i=Object(D.a)(e,4),o=i[0],c=void 0===o?[0]:o,l=i[1],s=void 0===l?[0]:l,u=i[2],d=void 0===u?[0]:u,f=i[3],m=void 0===f?[0]:f,v=Object(D.a)(t,4),h=v[0],p=void 0===h?[0]:h,g=v[1],L=void 0===g?[0]:g,j=v[2],E=void 0===j?[0]:j,y=v[3],b=void 0===y?[0]:y;return[a(r(c,p),n(n(r(s,L),r(d,E)),r(m,b))),n(n(r(c,L),r(s,p)),a(r(d,b),r(m,E))),n(n(r(c,E),r(d,p)),a(r(m,L),r(s,b))),n(n(r(c,b),r(m,p)),a(r(s,E),r(d,L)))]}for(var Z=[[1],,,],J=[1,,2],V=[Z,[,[1],,],[,,,[1]],[,,[1]]],W=[Z,[J,J,J,J],[[-1,,2],J,J,J]],U=[Z,[[,1,2],J,[-1,1,2]]],q=2;q<5;q++)U[q]=H(U[q-1],U[1]);for(var K,X,Q,Y,$=[],ee=0,te=V;ee<te.length;ee++){K=te[ee];var re,ne=Object(S.a)(U);try{for(ne.s();!(re=ne.n()).done;){X=re.value;var ae,ie=Object(S.a)(W);try{for(ie.s();!(ae=ie.n()).done;)Q=ae.value,$.push(I([(Y=H(K,H(Q,X))).map(A).reduce((function(e,t){return e||t}))||1],Y))}catch(nn){ie.e(nn)}finally{ie.f()}}}catch(nn){ne.e(nn)}finally{ne.f()}}var oe=function(e){return function(e){for(var t=["1"],r=0;r<e;r++)t=t.reduce((function(e,t){return[].concat(Object(O.a)(e),Object(O.a)(function(e){return"1"===e?["\u03c6"]:["1","\u03c6"]}(t)))}),[]);return t}(e).map((function(e){return"1"===e?[1,0,1]:[0,1,1]}))},ce={name:"golden",order:2,zero:[0,0,1],one:[1,0,1],goldenRatio:[0,1,1],quaternions:$,goldenSeries:function(e){return oe(e).reduce((function(e,t){return e.length>0&&(t=T(t,e[e.length-1])),e.push(t),e}),[])},origin:function(e){for(var t=[],r=0;r<e;r++)t.push([0,0,1]);return t},plus:T,minus:_,times:N,scalarmul:I,vectoradd:function(e,t){return Object(O.a)(e.values()).map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0],r=arguments.length>1?arguments[1]:void 0;return T(e,t[r]||[0])}))},embed:G,reciprocal:function(e){var t=Object(D.a)(e,3),r=t[0],n=void 0===r?0:r,a=t[1],i=void 0===a?0:a,o=t[2],c=void 0===o?1:o;return P((n+i)*c,0-i*c,n*n+n*i-i*i)},negate:B,createRationalFromPairs:function(e){var t=Object(D.a)(e,4),r=t[0],n=void 0===r?0:r,a=t[1],i=void 0===a?1:a,o=t[2],c=void 0===o?0:o,l=t[3],s=void 0===l?1:l;return P(n*s,c*i,i*s)},quatTransform:function(e,t){return H(e,H([[0]].concat(t),function(e){var t=Object(D.a)(e,4),r=t[0],n=void 0===r?[0]:r,a=t[1],i=void 0===a?[0]:a,o=t[2],c=void 0===o?[0]:o,l=t[3],s=void 0===l?[0]:l;return[n,B(i),B(c),B(s)]}(e))).slice(1)},embedv:function(e){return e.map(G)},createRational:function(e,t){return P(e,0,t)},randomVector:function(){return[[F(-12,12),0,1],[F(-12,12),0,1],[F(-12,12),0,1]]}},le=r(14),se=r(36),ue=r(70),de=r.n(ue),fe=window.innerWidth/window.innerHeight,me=function(e){return e/fe*180/Math.PI},ve=(me(.442),{fov:me(.442),position:[0,0,75],lookAt:[0,0,0],up:[0,1,0],far:217.46,near:.271}),he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CAMERA_DEFINED":var r=t.payload,n=r.position,a=r.lookAtPoint,i=r.upDirection,o=r.fieldOfView,c=r.nearClipDistance,l=r.farClipDistance;return{position:Object(O.a)(Object.values(n)),lookAt:Object(O.a)(Object.values(a)),up:Object(O.a)(Object.values(i)),fov:me(o),near:c,far:l};default:return e}},pe=function(e){var t=function(e,t){var r=e.getChildElement(t);return{x:parseFloat(r.getAttribute("x")),y:parseFloat(r.getAttribute("y")),z:parseFloat(r.getAttribute("z"))}},r=e.getChildElement("ViewModel"),n=parseFloat(r.getAttribute("distance")),a=parseFloat(r.getAttribute("near")),i=parseFloat(r.getAttribute("far")),o=t(r,"LookAtPoint"),c=t(r,"UpDirection"),l=t(r,"LookDirection");return{type:"CAMERA_DEFINED",payload:{position:{x:o.x-n*l.x,y:o.y-n*l.y,z:o.z-n*l.z},lookAtPoint:o,upDirection:c,fieldOfView:.442,nearClipDistance:a,farClipDistance:i}}},ge=Object(se.c)({history:de()(Object(se.c)({mesh:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MESH_CHANGED":return Object(j.a)(Object(j.a)({},e),t.payload);case"OBJECT_SELECTED":var r=t.payload,n=e.shown.get(r);if("undefined"===typeof n)throw new Error("something went wrong");var a=new Map(e.shown);return a.delete(r),Object(j.a)(Object(j.a)({},e),{},{shown:a,selected:new Map(e.selected).set(r,n)});case"OBJECT_DESELECTED":var i=t.payload,o=e.selected.get(i);if("undefined"===typeof o)throw new Error("something went wrong");var c=new Map(e.selected);return c.delete(i),Object(j.a)(Object(j.a)({},e),{},{selected:c,shown:new Map(e.shown).set(i,o)});case"ALL_SELECTED":return Object(j.a)(Object(j.a)({},e),{},{shown:new Map,selected:new Map([].concat(Object(O.a)(e.selected),Object(O.a)(e.shown)))});case"ALL_DESELECTED":return Object(j.a)(Object(j.a)({},e),{},{selected:new Map,shown:new Map([].concat(Object(O.a)(e.selected),Object(O.a)(e.shown)))});default:return e}}})),fieldName:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e},shaperName:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e},camera:he}),Le=function(e,t){return{history:{past:[],present:{mesh:x(e)},future:[]},fieldName:e.name,shaperName:t,camera:ve}},je={nextUntitledIndex:0,data:{}},Ee=function(e,t){var r="untitled ".concat(t.name," ").concat(e.nextUntitledIndex);return{nextUntitledIndex:e.nextUntitledIndex+1,current:r,data:Object(j.a)(Object(j.a)({},e.data),{},Object(le.a)({},r,Le(t)))}},ye=function(e){return{type:"NEW_MODEL",payload:e}},be=function(e){return{type:"SWITCH_MODEL",payload:e}},ze=function(e){return{type:"RENAME_MODEL",payload:e}},Oe=function(e,t){return{type:"LOADED_DESIGN",payload:{name:e,design:t}}},we=function(e){return e.models.data[e.models.current]},xe=function(e){return we(e).history.present.mesh},Me=function(e){return we(e).camera},ke=function(e){return e.fields[we(e).fieldName]},Se=function(e){var t=we(e).shaperName||"solid connectors";return e.shapers[t]},De=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee(je,ce),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NEW_MODEL":return Ee(t.payload);case"CLOSE_MODEL":return e;case"SWITCH_MODEL":var r=t.payload;return Object(j.a)(Object(j.a)({},e),{},{current:r});case"LOADED_DESIGN":var n=t.payload,a=n.name,i=n.design;return Object(j.a)(Object(j.a)({},e),{},{current:a,data:Object(j.a)(Object(j.a)({},e.data),{},Object(le.a)({},a,i))});case"RENAME_MODEL":var o=e.current,c=t.payload,l=e.data[o];return delete e.data[o],Object(j.a)(Object(j.a)({},e),{},{current:c,data:Object(j.a)(Object(j.a)({},e.data),{},Object(le.a)({},c,l))});default:var s=e.data[e.current];return s?Object(j.a)(Object(j.a)({},e),{},{data:Object(j.a)(Object(j.a)({},e.data),{},Object(le.a)({},e.current,ge(s,t)))}):e}},Ce=function(e,t){return function(r,n){var a=xe(n()),i=a.shown,o=a.hidden,c=a.selected;i=new Map(i),o=new Map(o),c=new Map(c);var l=k([t]);if(l=i.get(l.id)||c.get(l.id)||o.get(l.id)||l,c.delete(l.id)||o.delete(l.id),i.set(l.id,l),e){var s=k([e,t]);s=i.get(s.id)||c.get(s.id)||o.get(s.id)||s,c.delete(s.id)||o.delete(s.id),i.set(s.id,s)}r(w(i,c,o))}},Ae=function(e){return{type:"GRID_HOVER_STARTED",payload:e}},Re=function(e){return{type:"GRID_HOVER_STOPPED",payload:e}},Pe=function(e){return{type:"BALL_HOVER_STARTED",payload:e}},Fe=function(e){return{type:"BALL_HOVER_STOPPED",payload:e}},Ne=function(e,t){return function(r,n){r({type:"BALL_CLICKED",payload:t}),r(Ce(e,t))}},Te=function(){return{type:"BACKGROUND_CLICKED"}},_e=function(e){return{type:"WORKING_PLANE_GRID_DEFINED",payload:e}},Ie=function(){return{type:"ORIENTATION_CHANGED"}},Be=ce.goldenSeries(6).map((function(e){return ce.times(ce.goldenRatio,e)})),Ge=ce.zero,He=[[Ge,Ge]];Be.forEach((function(e){var t=ce.negate(e);He.push([e,Ge]),He.push([Ge,e]),He.push([t,Ge]),He.push([Ge,t]),Be.forEach((function(r){var n=ce.negate(r);He.push([e,r]),He.push([e,n]),He.push([t,r]),He.push([t,n])}))}));var Ze={position:[ce.zero,ce.zero,ce.zero],endPt:void 0,quaternion:ce.quaternions[0],size:ce.times([5,0,1],ce.goldenRatio),grid:[],color:"#00aacc",enabled:!1,buildingStruts:!1,field:ce},Je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GRID_HOVER_STARTED":return Object(j.a)(Object(j.a)({},e),{},{endPt:t.payload});case"BALL_HOVER_STARTED":return e.endPt?e:Object(j.a)(Object(j.a)({},e),{},{endPt:t.payload});case"BALL_HOVER_STOPPED":return Object(j.a)(Object(j.a)({},e),{},{endPt:void 0});case"BALL_CLICKED":var r=t.payload;return JSON.stringify(e.position)===JSON.stringify(r)?Object(j.a)(Object(j.a)({},e),{},{enabled:!0,buildingStruts:!e.buildingStruts,endPt:void 0}):Object(j.a)(Object(j.a)({},e),{},{enabled:!0,buildingStruts:!0,position:r,endPt:void 0});case"BACKGROUND_CLICKED":return Object(j.a)(Object(j.a)({},e),{},{enabled:!e.enabled});case"WORKING_PLANE_GRID_DEFINED":return Object(j.a)(Object(j.a)({},e),{},{enabled:!0,buildingStruts:!0,grid:t.payload});case"ORIENTATION_CHANGED":return Object(j.a)(Object(j.a)({},e),{},{enabled:!0,orientation:(e.orientation+1)%3});default:return e}};var Ve=function(e){var t=e.config,r=e.startGridHover,n=e.stopGridHover,a=t.position,i=t.quaternion,o=t.grid,c=t.color,l=t.size,s=t.field,u=Object(E.h)(),d=Object(D.a)(u,2),f=d[0],m=d[1],v=s.embed(l)/24,p=function(e){var t=s.quatTransform(i,[].concat(Object(O.a)(e),[s.zero]));return s.vectoradd(a,t)};return h.a.createElement("group",{position:s.embedv(a),quaternion:s.embedv(function(e){var t=Object(D.a)(e,4),r=t[0];return[t[1],t[2],t[3],r]}(i))},h.a.createElement("meshLambertMaterial",{ref:f,transparent:!0,opacity:.7,color:c,side:y.DoubleSide}),o.map((function(e){var t=s.embedv(e),a=Object(D.a)(t,3),i=a[0],o=a[1],c=a[2];return h.a.createElement("mesh",{position:[i,o,c],key:JSON.stringify(e),material:m,onPointerOver:function(t){return function(e,t){e.stopPropagation(),r(p(t))}(t,e)},onPointerOut:function(t){return function(e,t){e.stopPropagation(),n(p(t))}(t,e)},onClick:function(t){return function(e,t){e.stopPropagation(),console.log("handle grid click: "+JSON.stringify(t))}(t,e)}},h.a.createElement("icosahedronBufferGeometry",{attach:"geometry",args:[v]}))})))},We=function(e){var t=e.vertices,r=e.faces,n=new y.Geometry;return n.vertices=t.map((function(e){return new y.Vector3(e.x,e.y,e.z)})),n.faces=r.map((function(e){return new y.Face3(e.vertices[0],e.vertices[1],e.vertices[2],function(e,t){var r=e[t.vertices[0]],n=e[t.vertices[1]],a=e[t.vertices[2]],i=(new y.Vector3).subVectors(n,r),o=(new y.Vector3).subVectors(a,r);return(new y.Vector3).crossVectors(i,o)}(t,e))})),n.computeBoundingSphere(),n},Ue=function(e){var t=e.id,r=e.vectors,n=e.position,a=e.rotation,i=e.geometry,o=e.color,c=e.selected,l=e.highlightBall,s=e.onClick,u=e.onHover,d=c?"#bbbbbb":l(t)?"#884444":"black";return h.a.createElement("group",{position:n,quaternion:a},h.a.createElement("mesh",{geometry:i,onPointerOver:function(e){e.stopPropagation(),u(r,!0)},onPointerOut:function(e){e.stopPropagation(),u(r,!1)},onClick:function(e){s&&(e.stopPropagation(),s(t,r,c))}},h.a.createElement("meshLambertMaterial",{attach:"material",color:o,emissive:d})))},qe=function(e){var t=e.instances,r=e.shape,n=e.onClick,a=e.onHover,i=e.highlightBall,o=Object(v.useMemo)((function(){return We(r)}),[r]);return h.a.createElement(h.a.Fragment,null,t.map((function(e){return h.a.createElement(Ue,Object.assign({key:e.id},e,{geometry:o,highlightBall:i,onClick:n,onHover:a}))})))},Ke=function(e,t,r,n,a){var i=n[e.id];return i&&e.color===i.color||(i=a(e),i=Object(j.a)(Object(j.a)({},i),{},{vectors:e.vectors}),n[e.id]=i),Object(j.a)(Object(j.a)({},i),{},{selected:t})},Xe=function(e,t){return t.filter((function(t){return t.shapeId===e.id}))},Qe=function(e){var t=e.mesh,r=(e.field,e.resolver),n=e.preResolved,a=e.highlightBall,i=e.handleClick,o=e.onHover,c=Object(v.useMemo)((function(){return n&&n.shapes||{}}),[r,n]),l=Object(v.useMemo)((function(){return{}}),[r]),s=n&&n.instances||[];if(r){var u=r(c);t.shown.forEach((function(e){return s.push(Ke(e,!1,0,l,u))})),t.selected.forEach((function(e){return s.push(Ke(e,!0,0,l,u))}))}var d=Object(v.useMemo)((function(){return Object.values(c).map((function(e){return{shape:e,instances:Xe(e,s)}}))}),[c,s]);return h.a.createElement(h.a.Fragment,null,d.map((function(e){var t=e.shape,r=e.instances;return h.a.createElement(qe,{key:t.id,shape:t,instances:r,highlightBall:a,onClick:i,onHover:o})})))};Object(E.e)({TrackballControls:z.a});var Ye=function(e){var t=Object(E.i)(),r=t.gl,n=t.camera,a=Object(v.useRef)();return Object(E.f)((function(){return a.current.update()})),h.a.createElement("trackballControls",Object.assign({ref:a,args:[n,r.domElement]},e))},$e=function(e){var t=e.direction,r=e.color,n=t.map((function(e){return-e})),a=Object(v.useMemo)((function(){return new y.DirectionalLight}),[]);return h.a.createElement(h.a.Fragment,null,h.a.createElement("primitive",{object:a,position:n,color:r}),h.a.createElement("primitive",{object:a.target,position:[0,0,0]}))},et=function(e){var t=e.backgroundColor,r=e.ambientColor,n=e.directionalLights,a=Object(v.useMemo)((function(){return new y.Color(t)}),[t]);return Object(E.f)((function(e){e.scene.background=a})),h.a.createElement(h.a.Fragment,null,h.a.createElement("ambientLight",{color:r}),n.map((function(e){return h.a.createElement($e,e)})))},tt={selectionToggler:function(e,t){return t?function(e){return{type:"OBJECT_DESELECTED",payload:e}}(e):function(e){return{type:"OBJECT_SELECTED",payload:e}}(e)},startGridHover:Ae,stopGridHover:Re,startBallHover:Pe,stopBallHover:Fe,shapeClick:Ne,bkgdClick:Te},rt=Object(p.b)((function(e){var t=e.lighting,r=e.models,n=e.workingPlane,a=e.java,i=r&&xe(e),o=r&&ke(e),c=e.camera||Me(e),l=r&&Se(e),s=a.shapes&&{shapes:a.shapes,instances:a.renderingOn?a.instances:a.previous},u=i&&new Map(i.shown);if(n&&n.enabled&&n.endPt){var d=n.position,f=n.endPt,m=n.buildingStruts,v=k([f]);if(u.has(v.id)||u.set(v.id,v),m){var h=k([d,f]);u.has(h.id)||u.set(h.id,h)}}return{workingPlane:n,camera:c,lighting:t,field:o,resolver:l,preResolved:s,mesh:i&&Object(j.a)(Object(j.a)({},i),{},{shown:u}),clickable:!!r}}),tt)((function(e){var t=e.lighting,r=e.camera,n=e.mesh,a=e.field,i=e.resolver,o=e.preResolved,c=e.clickable,l=e.selectionToggler,s=e.startGridHover,u=e.stopGridHover,d=e.startBallHover,f=e.stopBallHover,m=e.shapeClick,v=e.bkgdClick,p=e.workingPlane,g=r.fov,L=r.position,j=r.up,y=r.lookAt,z=p&&p.enabled&&p.buildingStruts&&p.position,O=c&&function(e,t,r){p?1===t.length&&m(z,t[0]):l(e,r)};return h.a.createElement(E.a,{gl:{antialias:!0,alpha:!1},onPointerMissed:function(e){p&&function(e){return"which"in(e=e||window.event)?1===e.which:"button"in e&&0===e.button}(e)&&v()}},h.a.createElement(b.a,Object.assign({makeDefault:!0},{fov:g,position:L,up:j}),h.a.createElement(et,t)),h.a.createElement(Ye,{staticMoving:"true",rotateSpeed:6,zoomSpeed:3,panSpeed:1,target:y}),h.a.createElement(Qe,{mesh:n,field:a,resolver:i,preResolved:o,handleClick:O,onHover:function(e,t){if(p&&1===e.length){var r=e[0];t?d(r):f(r)}},highlightBall:function(e){return z&&e===JSON.stringify(z)}}),p&&p.enabled&&h.a.createElement(Ve,Object.assign({config:p},{startGridHover:s,stopGridHover:u})))})),nt=function(e){return{type:"ERROR_HAPPENED",payload:e}},at=function(){return{type:"ERROR_CLEARED"}},it=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ERROR_HAPPENED":return t.payload;case"ERROR_CLEARED":return"";default:return e}},ot=r(215),ct=r(199),lt=r(217),st={dismissed:at},ut=Object(p.b)((function(e){return{message:e.alerts}}),st)((function(e){var t=e.message,r=e.dismissed;return h.a.createElement(lt.a,{open:!!t,onClose:r,anchorOrigin:{vertical:"top",horizontal:"center"}},h.a.createElement(ot.a,{variant:"filled",severity:"error",onClose:r},h.a.createElement(ct.a,null,"There's a problem"),t))})),dt=r(156),ft=r(201),mt=r(200),vt=Object(mt.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}})),ht=Object(p.b)((function(e){var t=e.progress;return{visible:t&&t.showing,message:t&&t.message}}))((function(e){var t=e.visible,r=(e.message,vt());return h.a.createElement(dt.a,{className:r.backdrop,open:t},h.a.createElement(ft.a,{color:"inherit"}))})),pt=r(211),gt=r(212),Lt=r(79),jt=r(214),Et=r(114),yt=r(7),bt=r(206),zt=r(202),Ot=r(203),wt=r(204),xt=r(198),Mt=r(108),kt=r.n(Mt),St=r(110),Dt=r.n(St),Ct=r(207),At=r(216),Rt=Object(yt.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,r=e.classes,n=e.onClose,a=Object(Et.a)(e,["children","classes","onClose"]);return h.a.createElement(zt.a,Object.assign({disableTypography:!0,className:r.root},a),h.a.createElement(Lt.a,{variant:"h6"},t),n?h.a.createElement(xt.a,{"aria-label":"close",className:r.closeButton,onClick:n},h.a.createElement(kt.a,null)):null)})),Pt=Object(yt.a)((function(e){return{root:{padding:e.spacing(2)}}}))(Ot.a);Object(yt.a)((function(e){return{root:{margin:0,padding:e.spacing(1)}}}))(wt.a);function Ft(){var e=h.a.useState(!1),t=Object(D.a)(e,2),r=t[0],n=t[1],a=function(){n(!1)};return h.a.createElement(h.a.Fragment,null,h.a.createElement(At.a,{title:"About vZome Online","aria-label":"about"},h.a.createElement(xt.a,{color:"inherit","aria-label":"about",onClick:function(){n(!0)}},h.a.createElement(Dt.a,{fontSize:"large"}))),h.a.createElement(bt.a,{onClose:a,"aria-labelledby":"customized-dialog-title",open:r},h.a.createElement(Rt,{id:"customized-dialog-title",onClose:a},"About vZome Online"),h.a.createElement(Pt,{dividers:!0},h.a.createElement(Lt.a,{gutterBottom:!0},"vZome Online is the world's first in-browser modeling tool for ",h.a.createElement(Ct.a,{target:"_blank",href:"https://zometool.com",rel:"noopener"},"Zometool"),"... or it will be soon."),h.a.createElement(Lt.a,{gutterBottom:!0},"Right now, you can load and view existing vZome designs, created using the ",h.a.createElement(Ct.a,{target:"_blank",rel:"noopener",href:"https://vzome.com"},"vZome desktop app"),". Click on the folder icon try out some of the built-in designs, or load one of your own!"),h.a.createElement(Lt.a,{gutterBottom:!0},"At the moment, you cannot modify designs or create new designs.  I'm working to complete those features (and all the other features of desktop vZome) as soon as possible; my top priority so far has been to support loading existing designs. If you want to stay informed about my progress, follow vZome on ",h.a.createElement(Ct.a,{target:"_blank",rel:"noopener",href:"https://www.facebook.com/vZome"},"Facebook")," or ",h.a.createElement(Ct.a,{target:"_blank",rel:"noopener",href:"https://twitter.com/vZome"},"Twitter"),"."),h.a.createElement(Lt.a,{gutterBottom:!0},"Not all vZome designs will load successfully yet, unfortunately. It turns out to be a long and painstaking process to port all of the vZome code to the web, and I still have some work to do. If you have a vZome design (in the golden field) that does not load here, ",h.a.createElement(Ct.a,{target:"_blank",rel:"noopener",href:"mailto:info@vzome.com"},"send me the vZome file"),", and I can prioritize the necessary fixes."))))}var Nt=r(111),Tt=r.n(Nt),_t=r(113),It=r(218),Bt=r(210),Gt=r(213),Ht=r(208),Zt=r(209),Jt=function(e){var t=e.show,r=e.setShow,n=e.openDesign,a=Object(v.useState)(""),i=Object(D.a)(a,2),o=i[0],c=i[1],l=function(){r(!1)};return h.a.createElement(bt.a,{open:t,onClose:l,"aria-labelledby":"form-dialog-title",maxWidth:"lg",fullWidth:!0},h.a.createElement(zt.a,{id:"form-dialog-title"},"Load a Remote vZome Design"),h.a.createElement(Ot.a,null,h.a.createElement(Ht.a,null,"The server must allow cross-origin access."),h.a.createElement(Gt.a,{onChange:function(e){return c(e.target.value)},autoFocus:!0,margin:"dense",id:"name",label:"vZome design URL",type:"url",fullWidth:!0})),h.a.createElement(wt.a,null,h.a.createElement(Zt.a,{onClick:l,color:"secondary"},"Cancel"),h.a.createElement(Zt.a,{onClick:function(){r(!1),n(o)},color:"primary"},"Open")))},Vt=function(e){return{type:"PROGRESS_STARTED",payload:e}},Wt=function(){return{type:"PROGRESS_STOPPED"}},Ut={message:"",showing:!1},qt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ut,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PROGRESS_STARTED":return{showing:!0,message:t.payload};case"PROGRESS_STOPPED":return{showing:!1,message:""};default:return e}},Kt=function(e){return function(t,r){t(Vt("Fetching model content...")),fetch(e).then((function(e){if(!e.ok)throw new Error("Network response was not ok");return e.text()})).then((function(n){var a=e.split("\\").pop().split("/").pop();r().java.parser(a,n,t,r)})).catch((function(r){console.error("There has been a problem with your fetch operation:",r),t(Wt()),t(nt("Unable to load URL: ".concat(e)))}))}},Xt=function(e,t){var r=new Blob([t.subarray(1)]),n=document.createElement("a"),a=URL.createObjectURL(r);n.setAttribute("href",a),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)},Qt=[{key:"vZomeLogo",label:"vZome Logo",description:"The vZome logo, one tetrahedral cell of the 4D 600-cell (cell-first projection)"},{key:"affineDodec",label:"Stretched Dodecahedron",description:"A regular dodecahedron stretched by a linear transformation"},{key:"120-cell",label:"Hyper-dodecahedron",description:"The 4D analogue of a dodecahedron, with 120 dodecahedral cells"},{key:"bluePlaneArches1",label:"Arched Rhombic Triacontahedron",description:"A sculpture built using just the blue planes"},{key:"C240",label:"C-240 Buckyball",description:"C-240 Buckyball"},{key:"orangePurpleChiral",label:"Orange and Purple Tangle",description:"A design by Brian Hall"}],Yt={openDesign:Kt,openFile:function(e){return function(t,r){console.log(e),t(Vt("Reading file content..."));var n=new FileReader;n.onload=function(){r().java.parser(e.name,n.result,t,r)},n.onerror=function(){t(Wt()),t(nt("Unable to read file: ".concat(e.name)))},n.readAsText(e)}}},$t=Object(p.b)((function(e){return{enabled:!e.workingPlane}}),Yt)((function(e){var t=e.openDesign,r=e.openFile,n=h.a.useState(null),a=Object(D.a)(n,2),i=a[0],o=a[1],c=h.a.useState(!1),l=Object(D.a)(c,2),s=l[0],u=l[1],d=Object(v.useRef)();return h.a.createElement(h.a.Fragment,null,h.a.createElement(At.a,{title:"Open a design","aria-label":"open"},h.a.createElement(xt.a,{color:"inherit","aria-label":"open",onClick:function(e){o(e.currentTarget)}},h.a.createElement(Tt.a,{fontSize:"large"}))),h.a.createElement(_t.a,{anchorEl:i,keepMounted:!0,open:Boolean(i),onClose:function(){o(null)}},h.a.createElement(It.a,{onClick:function(){o(null),d.current.click()}},"Local vZome file",h.a.createElement("input",{className:"FileInput",type:"file",ref:d,onChange:function(e){var t=e.target.files&&e.target.files[0];t&&r(t)},accept:".vZome"})),h.a.createElement(It.a,{onClick:function(){o(null),u(!0)}},"Remote vZome URL"),h.a.createElement(Bt.a,null),Qt.map((function(e){return h.a.createElement(It.a,{key:e.key,onClick:function(){return function(e){o(null),t("/app/models/".concat(e,".vZome"))}(e.key)}},e.label)}))),h.a.createElement(Jt,{show:s,setShow:u,openDesign:t}))})),er=r(74);function tr(){return h.a.createElement(er.a,{fontSize:"large",stroke:"black",strokeLinejoin:"round",strokeWidth:"0.5",viewBox:"55 40 340.0 340.0"},h.a.createElement("path",{fill:"#3e3e3e",d:"M 269.02 277.8 L 272.46 283.83 L 287.98 296.29 L 286.3 291.64  z"}),h.a.createElement("path",{fill:"#e7e7e1",d:"M 278.1 234.58 L 267.43 243.11 L 275.89 238.56 L 287.57 229.43  z"}),h.a.createElement("path",{fill:"#ffffff",d:"M 337.14 259.25 L 331.34 244.39 L 328.71 237.77 L 334.6 252.83  z"}),h.a.createElement("path",{fill:"#7c7c7f",d:"M 312.8 292.04 L 323.06 288.12 L 301.1 296.41  z"}),h.a.createElement("path",{fill:"#c7c7c3",d:"M 299.53 226.34 L 287.57 229.43 L 301.91 228.56 L 312.64 225.73  z"}),h.a.createElement("path",{fill:"#ffffff",d:"M 337.14 259.25 L 334.6 252.83 L 330.46 274.92 L 333.45 279.09  z"}),h.a.createElement("path",{fill:"#231b33",d:"M 247.91 235.51 L 267.43 243.11 L 275.89 238.56 L 256.03 230.78  z"}),h.a.createElement("path",{fill:"#fbfbf5",d:"M 275.89 238.56 L 267.43 243.11 L 263.23 262.81 L 271.67 258.63  z"}),h.a.createElement("path",{fill:"#333333",d:"M 301.1 296.41 L 299.6 291.72 L 286.3 291.64 L 287.98 296.29  z"}),h.a.createElement("path",{fill:"#ac85fa",d:"M 258.98 217.29 L 275.89 238.56 L 287.57 229.43  z"}),h.a.createElement("path",{fill:"#b8b8b4",d:"M 269.02 277.8 L 278.45 273.52 L 271.67 258.63 L 263.23 262.81  z"}),h.a.createElement("path",{fill:"#ffffff",d:"M 301.91 228.56 L 318.16 240.84 L 328.71 237.77 L 312.64 225.73  z"}),h.a.createElement("path",{fill:"#828280",d:"M 269.02 277.8 L 286.3 291.64 L 278.45 273.52  z"}),h.a.createElement("path",{fill:"#d8d8dd",d:"M 319.88 284.05 L 323.06 288.12 L 333.45 279.09 L 330.46 274.92  z"}),h.a.createElement("path",{fill:"#ffffff",d:"M 301.91 228.56 L 287.57 229.43 L 275.89 238.56 L 290.21 237.76  z"}),h.a.createElement("path",{fill:"#78787a",d:"M 319.88 284.05 L 299.6 291.72 L 301.1 296.41 L 323.06 288.12  z"}),h.a.createElement("path",{fill:"#f9f9fe",d:"M 318.16 240.84 L 323.09 256.52 L 334.6 252.83 L 328.71 237.77  z"}),h.a.createElement("path",{fill:"#f3f3f9",d:"M 330.46 274.92 L 334.6 252.83 L 323.09 256.52  z"}),h.a.createElement("path",{fill:"#302546",d:"M 146.76 150.32 L 140.67 156.75 L 247.91 235.51 L 256.03 230.78  z"}),h.a.createElement("path",{fill:"#ffffff",d:"M 275.89 238.56 L 271.67 258.63 L 285.64 260.03 L 290.21 237.76  z"}),h.a.createElement("path",{fill:"#858583",d:"M 286.3 291.64 L 299.6 291.72 L 292.53 275.07 L 278.45 273.52  z"}),h.a.createElement("path",{fill:"#fffffd",d:"M 301.91 228.56 L 290.21 237.76 L 308.08 251.46 L 318.16 240.84  z"}),h.a.createElement("path",{fill:"#d1d1d5",d:"M 319.88 284.05 L 330.46 274.92 L 323.09 256.52 L 313.02 267.28  z"}),h.a.createElement("path",{fill:"#af87ff",d:"M 146.76 150.32 L 256.03 230.78 L 275.89 238.56 L 258.98 217.29 L 150.34 136.97 L 129.32 128.43  z"}),h.a.createElement("path",{fill:"#eeeee9",d:"M 278.45 273.52 L 292.53 275.07 L 285.64 260.03 L 271.67 258.63  z"}),h.a.createElement("path",{fill:"#ffffff",d:"M 308.08 251.46 L 290.21 237.76 L 285.64 260.03  z"}),h.a.createElement("path",{fill:"#838383",d:"M 319.88 284.05 L 313.02 267.28 L 292.53 275.07 L 299.6 291.72  z"}),h.a.createElement("path",{fill:"#ffffff",d:"M 318.16 240.84 L 308.08 251.46 L 313.02 267.28 L 323.09 256.52  z"}),h.a.createElement("path",{fill:"#434344",d:"M 110.72 143.96 L 94.46 145.51 L 83.09 147.02 L 97.95 145.6  z"}),h.a.createElement("path",{fill:"#efefea",d:"M 313.02 267.28 L 308.08 251.46 L 285.64 260.03 L 292.53 275.07  z"}),h.a.createElement("path",{fill:"#231b33",d:"M 146.76 150.32 L 116.8 136.54 L 110.72 143.96 L 140.67 156.75  z"}),h.a.createElement("path",{fill:"#b0b0b4",d:"M 123.58 135.31 L 129.32 128.43 L 116.8 136.54 L 110.72 143.96  z"}),h.a.createElement("path",{fill:"#637000",d:"M 252.8 271.39 L 266.84 272.95 L 285.64 260.03 L 271.67 258.63  z"}),h.a.createElement("path",{fill:"#67002d",d:"M 309.25 236.52 L 308.08 251.46 L 318.16 240.84  z"}),h.a.createElement("path",{fill:"#3e001a",d:"M 309.25 236.52 L 292.66 223.95 L 290.21 237.76 L 308.08 251.46  z"}),h.a.createElement("path",{fill:"#3e3e3e",d:"M 62.41 127.1 L 68.96 135.53 L 83.09 147.02 L 78.11 139.83  z"}),h.a.createElement("path",{fill:"#ffffff",d:"M 134.72 108.98 L 128.86 93.68 L 123.15 84.58 L 129.09 100.1  z"}),h.a.createElement("path",{fill:"#7c7c7f",d:"M 110.72 143.96 L 116.8 136.54 L 94.46 145.51  z"}),h.a.createElement("path",{fill:"#63002b",d:"M 309.25 236.52 L 318.16 240.84 L 319.12 227.83  z"}),h.a.createElement("path",{fill:"#647100",d:"M 273.8 288.3 L 292.53 275.07 L 285.64 260.03 L 266.84 272.95  z"}),h.a.createElement("path",{fill:"#af87ff",d:"M 146.76 150.32 L 129.32 128.43 L 116.8 136.54  z"}),h.a.createElement("path",{fill:"#ffffff",d:"M 134.72 108.98 L 129.09 100.1 L 123.02 121.74 L 129.32 128.43  z"}),h.a.createElement("path",{fill:"#fbfbf5",d:"M 67.08 84.51 L 62.52 92.36 L 56.57 111.66 L 61.04 104.16  z"}),h.a.createElement("path",{fill:"#333333",d:"M 94.46 145.51 L 89.61 138.22 L 78.11 139.83 L 83.09 147.02  z"}),h.a.createElement("path",{fill:"#b8b8b4",d:"M 62.41 127.1 L 67.47 119.18 L 61.04 104.16 L 56.57 111.66  z"}),h.a.createElement("path",{fill:"#ffffff",d:"M 93.53 73.69 L 108.32 84.9 L 123.15 84.58 L 108.48 73.58  z"}),h.a.createElement("path",{fill:"#828280",d:"M 62.41 127.1 L 78.11 139.83 L 67.47 119.18  z"}),h.a.createElement("path",{fill:"#d8d8dd",d:"M 110.24 129.91 L 116.8 136.54 L 129.32 128.43 L 123.02 121.74  z"}),h.a.createElement("path",{fill:"#ffffff",d:"M 93.53 73.69 L 80.55 76.02 L 67.08 84.51 L 80.02 82.25  z"}),h.a.createElement("path",{fill:"#78787a",d:"M 110.24 129.91 L 89.61 138.22 L 94.46 145.51 L 116.8 136.54  z"}),h.a.createElement("path",{fill:"#f9f9fe",d:"M 108.32 84.9 L 112.87 100.77 L 129.09 100.1 L 123.15 84.58  z"}),h.a.createElement("path",{fill:"#f3f3f9",d:"M 123.02 121.74 L 129.09 100.1 L 112.87 100.77  z"}),h.a.createElement("path",{fill:"#750032",d:"M 121.5 156.95 L 116.8 136.54 L 110.24 129.91  z"}),h.a.createElement("path",{fill:"#ffffff",d:"M 67.08 84.51 L 61.04 104.16 L 73.43 104.05 L 80.02 82.25  z"}),h.a.createElement("path",{fill:"#858583",d:"M 78.11 139.83 L 89.61 138.22 L 79.96 119.22 L 67.47 119.18  z"}),h.a.createElement("path",{fill:"#fffffd",d:"M 93.53 73.69 L 80.02 82.25 L 96.25 94.76 L 108.32 84.9  z"}),h.a.createElement("path",{fill:"#d1d1d5",d:"M 110.24 129.91 L 123.02 121.74 L 112.87 100.77 L 100.8 110.78  z"}),h.a.createElement("path",{fill:"#750032",d:"M 116.44 150.41 L 121.5 156.95 L 110.24 129.91  z"}),h.a.createElement("path",{fill:"#eeeee9",d:"M 67.47 119.18 L 79.96 119.22 L 73.43 104.05 L 61.04 104.16  z"}),h.a.createElement("path",{fill:"#332200",d:"M 132.25 105.95 L 123.02 121.74 L 145.32 116.11  z"}),h.a.createElement("path",{fill:"#ffffff",d:"M 96.25 94.76 L 80.02 82.25 L 73.43 104.05  z"}),h.a.createElement("path",{fill:"#750032",d:"M 116.44 150.41 L 110.24 129.91 L 89.61 138.22 L 95.59 158.76  z"}),h.a.createElement("path",{fill:"#7d5300",d:"M 132.25 105.95 L 112.87 100.77 L 123.02 121.74  z"}),h.a.createElement("path",{fill:"#838383",d:"M 110.24 129.91 L 100.8 110.78 L 79.96 119.22 L 89.61 138.22  z"}),h.a.createElement("path",{fill:"#ffffff",d:"M 108.32 84.9 L 96.25 94.76 L 100.8 110.78 L 112.87 100.77  z"}),h.a.createElement("path",{fill:"#f0a000",d:"M 132.25 105.95 L 143.38 94.58 L 112.87 100.77  z"}),h.a.createElement("path",{fill:"#efefea",d:"M 100.8 110.78 L 96.25 94.76 L 73.43 104.05 L 79.96 119.22  z"}),h.a.createElement("path",{fill:"#586300",d:"M 207.26 302.74 L 266.84 272.95 L 252.8 271.39 L 192.8 300.75  z"}),h.a.createElement("path",{fill:"#647100",d:"M 273.8 288.3 L 266.84 272.95 L 207.26 302.74 L 214.56 319.34  z"}),h.a.createElement("path",{fill:"#750032",d:"M 149.11 268.55 L 154.05 273.81 L 121.5 156.95 L 116.44 150.41  z"}),h.a.createElement("path",{fill:"#41001b",d:"M 309.25 236.52 L 324.33 145 L 305.62 131.97 L 292.66 223.95  z"}),h.a.createElement("path",{fill:"#63002b",d:"M 309.25 236.52 L 319.12 227.83 L 335.25 135.97 L 324.33 145  z"}),h.a.createElement("path",{fill:"#750032",d:"M 149.11 268.55 L 116.44 150.41 L 95.59 158.76 L 126.62 277.24  z"}),h.a.createElement("path",{fill:"#302000",d:"M 274.29 103.43 L 262.24 92 L 132.25 105.95 L 145.32 116.11  z"}),h.a.createElement("path",{fill:"#f0a000",d:"M 132.25 105.95 L 262.24 92 L 272.39 79.71 L 143.38 94.58  z"}),h.a.createElement("path",{fill:"#637000",d:"M 207.26 302.74 L 192.8 300.75 L 170.56 315.58 L 185.06 317.77  z"}),h.a.createElement("path",{fill:"#647100",d:"M 214.56 319.34 L 207.26 302.74 L 185.06 317.77 L 192.43 334.75  z"}),h.a.createElement("path",{fill:"#750032",d:"M 149.11 268.55 L 161.16 297.3 L 154.05 273.81  z"}),h.a.createElement("path",{fill:"#740032",d:"M 149.11 268.55 L 156.99 291.93 L 161.16 297.3  z"}),h.a.createElement("path",{fill:"#750032",d:"M 149.11 268.55 L 126.62 277.24 L 131.93 301.55 L 156.99 291.93  z"}),h.a.createElement("path",{fill:"#63002b",d:"M 324.33 145 L 335.25 135.97 L 325.57 127.82  z"}),h.a.createElement("path",{fill:"#370017",d:"M 324.33 145 L 325.57 127.82 L 306.43 114.69 L 305.62 131.97  z"}),h.a.createElement("path",{fill:"#e7e7e1",d:"M 131.93 301.55 L 117.86 312.32 L 124.41 308.54 L 139.43 297.14  z"}),h.a.createElement("path",{fill:"#5e0029",d:"M 335.25 135.97 L 339.08 117.79 L 325.57 127.82  z"}),h.a.createElement("path",{fill:"#ffffff",d:"M 200.56 331.58 L 193.79 313.85 L 188.34 307.13 L 195.22 325.15  z"}),h.a.createElement("path",{fill:"#9271da",d:"M 209.63 282.91 L 188.34 307.13 L 193.79 313.85  z"}),h.a.createElement("path",{fill:"#f0a000",d:"M 272.39 79.71 L 262.24 92 L 291.75 73.03  z"}),h.a.createElement("path",{fill:"#513600",d:"M 274.29 103.43 L 300.77 96.96 L 286.37 97.65  z"}),h.a.createElement("path",{fill:"#c7c7c3",d:"M 156.99 291.93 L 139.43 297.14 L 154.97 296.82 L 170.81 292.03  z"}),h.a.createElement("path",{fill:"#2b1d00",d:"M 274.29 103.43 L 286.37 97.65 L 262.24 92  z"}),h.a.createElement("path",{fill:"#ffffff",d:"M 200.56 331.58 L 195.22 325.15 L 188.9 352.23 L 194.96 355.84  z"}),h.a.createElement("path",{fill:"#a781ee",d:"M 170.81 292.03 L 188.34 307.13 L 199.43 286.03 L 181.6 271.03  z"}),h.a.createElement("path",{fill:"#fbfbf5",d:"M 124.41 308.54 L 117.86 312.32 L 111.54 336.38 L 117.99 333.14  z"}),h.a.createElement("path",{fill:"#333333",d:"M 155.44 377.01 L 150.98 372.88 L 137 371.75 L 141.65 375.86  z"}),h.a.createElement("path",{fill:"#f0a000",d:"M 286.37 97.65 L 291.75 73.03 L 262.24 92  z"}),h.a.createElement("path",{fill:"#b8b8b4",d:"M 118.29 354.29 L 125.58 351.19 L 117.99 333.14 L 111.54 336.38  z"}),h.a.createElement("path",{fill:"#ffffff",d:"M 154.97 296.82 L 172.69 312.3 L 188.34 307.13 L 170.81 292.03  z"}),h.a.createElement("path",{fill:"#828280",d:"M 118.29 354.29 L 137 371.75 L 125.58 351.19  z"}),h.a.createElement("path",{fill:"#d8d8dd",d:"M 174.86 363.91 L 181.23 367.34 L 194.96 355.84 L 188.9 352.23  z"}),h.a.createElement("path",{fill:"#ffffff",d:"M 154.97 296.82 L 139.43 297.14 L 124.41 308.54 L 139.89 308.33  z"}),h.a.createElement("path",{fill:"#78787a",d:"M 174.86 363.91 L 150.98 372.88 L 155.44 377.01 L 181.23 367.34  z"}),h.a.createElement("path",{fill:"#f9f9fe",d:"M 172.69 312.3 L 178.13 331.29 L 195.22 325.15 L 188.34 307.13  z"}),h.a.createElement("path",{fill:"#f3f3f9",d:"M 188.9 352.23 L 195.22 325.15 L 178.13 331.29  z"}),h.a.createElement("path",{fill:"#9472dd",d:"M 209.63 282.91 L 300.46 152.09 L 312.84 129.12 L 291.4 153.34 L 199.43 286.03 L 188.34 307.13  z"}),h.a.createElement("path",{fill:"#af87ff",d:"M 181.6 271.03 L 199.43 286.03 L 291.4 153.34 L 272.15 139.57  z"}),h.a.createElement("path",{fill:"#ffffff",d:"M 124.41 308.54 L 117.99 333.14 L 132.91 335.69 L 139.89 308.33  z"}),h.a.createElement("path",{fill:"#858583",d:"M 137 371.75 L 150.98 372.88 L 140.64 353.96 L 125.58 351.19  z"}),h.a.createElement("path",{fill:"#fffffd",d:"M 154.97 296.82 L 139.89 308.33 L 159.36 325.64 L 172.69 312.3  z"}),h.a.createElement("path",{fill:"#434344",d:"M 343.16 125.69 L 329.41 127.09 L 312.84 129.12 L 325.57 127.82  z"}),h.a.createElement("path",{fill:"#686867",d:"M 286.37 97.65 L 293.44 115.7 L 289.55 105.32 L 282.36 86.97  z"}),h.a.createElement("path",{fill:"#d1d1d5",d:"M 174.86 363.91 L 188.9 352.23 L 178.13 331.29 L 164.8 344.83  z"}),h.a.createElement("path",{fill:"#eeeee9",d:"M 125.58 351.19 L 140.64 353.96 L 132.91 335.69 L 117.99 333.14  z"}),h.a.createElement("path",{fill:"#ffffff",d:"M 159.36 325.64 L 139.89 308.33 L 132.91 335.69  z"}),h.a.createElement("path",{fill:"#838383",d:"M 174.86 363.91 L 164.8 344.83 L 140.64 353.96 L 150.98 372.88  z"}),h.a.createElement("path",{fill:"#ffffff",d:"M 172.69 312.3 L 159.36 325.64 L 164.8 344.83 L 178.13 331.29  z"}),h.a.createElement("path",{fill:"#3e3e3e",d:"M 289.55 105.32 L 293.44 115.7 L 312.84 129.12 L 311.23 120.22  z"}),h.a.createElement("path",{fill:"#efefea",d:"M 164.8 344.83 L 159.36 325.64 L 132.91 335.69 L 140.64 353.96  z"}),h.a.createElement("path",{fill:"#aa83f3",d:"M 272.15 139.57 L 291.4 153.34 L 311.23 120.22 L 289.55 105.32  z"}),h.a.createElement("path",{fill:"#7c7c7f",d:"M 343.16 125.69 L 356.69 116.35 L 329.41 127.09  z"}),h.a.createElement("path",{fill:"#9573de",d:"M 291.4 153.34 L 312.84 129.12 L 311.23 120.22  z"}),h.a.createElement("path",{fill:"#ffffff",d:"M 373.43 83.98 L 370.91 72.96 L 366.15 98.51 L 369.2 106.91  z"}),h.a.createElement("path",{fill:"#fbfbf5",d:"M 298.36 54.21 L 287.38 64.26 L 282.36 86.97 L 293.33 77.39  z"}),h.a.createElement("path",{fill:"#333333",d:"M 329.41 127.09 L 328.09 118.03 L 311.23 120.22 L 312.84 129.12  z"}),h.a.createElement("path",{fill:"#b8b8b4",d:"M 289.55 105.32 L 301.83 95.26 L 293.33 77.39 L 282.36 86.97  z"}),h.a.createElement("path",{fill:"#ffffff",d:"M 330.7 41.19 L 351.25 54.2 L 363.58 54.5 L 343.33 41.77  z"}),h.a.createElement("path",{fill:"#828280",d:"M 289.55 105.32 L 311.23 120.22 L 301.83 95.26  z"}),h.a.createElement("path",{fill:"#d8d8dd",d:"M 353.37 108.05 L 356.69 116.35 L 369.2 106.91 L 366.15 98.51  z"}),h.a.createElement("path",{fill:"#ffffff",d:"M 330.7 41.19 L 312.64 44.32 L 298.36 54.21 L 316.4 51.17  z"}),h.a.createElement("path",{fill:"#78787a",d:"M 353.37 108.05 L 328.09 118.03 L 329.41 127.09 L 356.69 116.35  z"}),h.a.createElement("path",{fill:"#f9f9fe",d:"M 351.25 54.2 L 357.49 73.1 L 370.91 72.96 L 363.58 54.5  z"}),h.a.createElement("path",{fill:"#f3f3f9",d:"M 366.15 98.51 L 370.91 72.96 L 357.49 73.1  z"}),h.a.createElement("path",{fill:"#ffffff",d:"M 298.36 54.21 L 293.33 77.39 L 310.98 76.93 L 316.4 51.17  z"}),h.a.createElement("path",{fill:"#858583",d:"M 311.23 120.22 L 328.09 118.03 L 319.66 95.01 L 301.83 95.26  z"}),h.a.createElement("path",{fill:"#fffffd",d:"M 330.7 41.19 L 316.4 51.17 L 339 65.73 L 351.25 54.2  z"}),h.a.createElement("path",{fill:"#d1d1d5",d:"M 353.37 108.05 L 366.15 98.51 L 357.49 73.1 L 345.25 84.84  z"}),h.a.createElement("path",{fill:"#eeeee9",d:"M 301.83 95.26 L 319.66 95.01 L 310.98 76.93 L 293.33 77.39  z"}),h.a.createElement("path",{fill:"#ffffff",d:"M 339 65.73 L 316.4 51.17 L 310.98 76.93  z"}),h.a.createElement("path",{fill:"#838383",d:"M 353.37 108.05 L 345.25 84.84 L 319.66 95.01 L 328.09 118.03  z"}),h.a.createElement("path",{fill:"#ffffff",d:"M 351.25 54.2 L 339 65.73 L 345.25 84.84 L 357.49 73.1  z"}),h.a.createElement("path",{fill:"#efefea",d:"M 345.25 84.84 L 339 65.73 L 310.98 76.93 L 319.66 95.01  z"}))}var rr=Object(mt.a)((function(e){return{root:{flexGrow:1},title:{marginLeft:e.spacing(2),flexGrow:1},open:{marginRight:e.spacing(5)}}}));function nr(){var e=rr();return h.a.createElement("div",{className:e.root},h.a.createElement(pt.a,{position:"static"},h.a.createElement(gt.a,null,h.a.createElement(tr,null),h.a.createElement(Lt.a,{variant:"h5",className:e.title},"vZome ",h.a.createElement(jt.a,{component:"span",fontStyle:"oblique"},"Online")),h.a.createElement($t,{className:e.open}),h.a.createElement(Ft,null))))}var ar,ir=function(){return h.a.createElement(h.a.Fragment,null,h.a.createElement(nr,null),h.a.createElement(rt,null),h.a.createElement(ut,null),h.a.createElement(ht,null))},or=r(42),cr=r.n(or),lr=r(61),sr={notes:"This is a vZome Shapes JSON export, with a 'camera' field added manually.",camera:{fieldOfView:.442,position:{x:-23.6819,y:12.3843,z:-46.8956},lookAtPoint:{x:0,y:-3.427,z:5.545},upDirection:{x:-.8263,y:.3136,z:.4677},farClipDistance:119.34,nearClipDistance:.1491},shapes:[{id:"73c8f4c7-caea-4017-9de0-8bfc11e8f413",vertices:[{x:.4295635,y:0,z:.98684436},{x:0,y:.4295635,z:.98684436},{x:-.4295635,y:0,z:.98684436},{x:0,y:-.4295635,z:.98684436},{x:-.4295635,y:-.98684436,z:0},{x:0,y:-.98684436,z:.4295635},{x:-.23606798,y:-.7082039,z:.7082039},{x:-.7082039,y:-.7082039,z:.23606798},{x:.7082039,y:-.7082039,z:.23606798},{x:.4295635,y:-.98684436,z:0},{x:.7082039,y:-.7082039,z:-.23606798},{x:.98684436,y:-.4295635,z:0},{x:-.23606798,y:.7082039,z:.7082039},{x:-.7082039,y:.23606798,z:.7082039},{x:-.98684436,y:.4295635,z:0},{x:-.98684436,y:0,z:-.4295635},{x:-.98684436,y:-.4295635,z:0},{x:-.98684436,y:0,z:.4295635},{x:0,y:-.4295635,z:-.98684436},{x:-.23606798,y:-.7082039,z:-.7082039},{x:-.7082039,y:-.23606798,z:-.7082039},{x:-.4295635,y:0,z:-.98684436},{x:-.7082039,y:-.7082039,z:-.23606798},{x:0,y:-.98684436,z:-.4295635},{x:-.7082039,y:.23606798,z:-.7082039},{x:-.7082039,y:.7082039,z:.23606798},{x:-.4295635,y:.98684436,z:0},{x:-.7082039,y:.7082039,z:-.23606798},{x:.7082039,y:.7082039,z:.23606798},{x:.23606798,y:.7082039,z:.7082039},{x:.7082039,y:.23606798,z:.7082039},{x:.23606798,y:-.7082039,z:-.7082039},{x:.7082039,y:-.23606798,z:-.7082039},{x:.7082039,y:.7082039,z:-.23606798},{x:.4295635,y:.98684436,z:0},{x:.98684436,y:.4295635,z:0},{x:.23606798,y:-.7082039,z:.7082039},{x:.7082039,y:-.23606798,z:.7082039},{x:.7082039,y:.23606798,z:-.7082039},{x:.23606798,y:.7082039,z:-.7082039},{x:-.7082039,y:-.23606798,z:.7082039},{x:-.23606798,y:.7082039,z:-.7082039},{x:0,y:.98684436,z:.4295635},{x:.98684436,y:0,z:-.4295635},{x:.98684436,y:0,z:.4295635},{x:0,y:.4295635,z:-.98684436},{x:.4295635,y:0,z:-.98684436},{x:0,y:.98684436,z:-.4295635}],faces:[{vertices:[28,35,33]},{vertices:[28,33,34]},{vertices:[18,21,45]},{vertices:[18,45,46]},{vertices:[21,24,41]},{vertices:[21,41,45]},{vertices:[28,34,42]},{vertices:[28,42,29]},{vertices:[11,43,35]},{vertices:[11,35,44]},{vertices:[0,1,2]},{vertices:[0,2,3]},{vertices:[28,30,44]},{vertices:[28,44,35]},{vertices:[26,47,41]},{vertices:[26,41,27]},{vertices:[33,35,43]},{vertices:[33,43,38]},{vertices:[26,42,34]},{vertices:[26,34,47]},{vertices:[4,5,6]},{vertices:[4,6,7]},{vertices:[33,39,47]},{vertices:[33,47,34]},{vertices:[1,12,13]},{vertices:[1,13,2]},{vertices:[32,46,38]},{vertices:[32,38,43]},{vertices:[8,9,10]},{vertices:[8,10,11]},{vertices:[38,46,45]},{vertices:[38,45,39]},{vertices:[4,23,9]},{vertices:[4,9,5]},{vertices:[39,45,41]},{vertices:[39,41,47]},{vertices:[4,7,16]},{vertices:[4,16,22]},{vertices:[12,25,13]},{vertices:[3,6,5]},{vertices:[3,5,36]},{vertices:[2,40,6]},{vertices:[2,6,3]},{vertices:[6,40,7]},{vertices:[5,9,8]},{vertices:[5,8,36]},{vertices:[0,30,29]},{vertices:[0,29,1]},{vertices:[19,22,20]},{vertices:[14,15,16]},{vertices:[14,16,17]},{vertices:[4,22,19]},{vertices:[4,19,23]},{vertices:[13,25,14]},{vertices:[13,14,17]},{vertices:[2,13,17]},{vertices:[2,17,40]},{vertices:[10,31,32]},{vertices:[9,23,31]},{vertices:[9,31,10]},{vertices:[15,20,22]},{vertices:[15,22,16]},{vertices:[0,3,36]},{vertices:[0,36,37]},{vertices:[18,19,20]},{vertices:[18,20,21]},{vertices:[15,24,21]},{vertices:[15,21,20]},{vertices:[7,40,17]},{vertices:[7,17,16]},{vertices:[14,27,24]},{vertices:[14,24,15]},{vertices:[8,37,36]},{vertices:[1,29,42]},{vertices:[1,42,12]},{vertices:[28,29,30]},{vertices:[18,31,23]},{vertices:[18,23,19]},{vertices:[14,25,26]},{vertices:[14,26,27]},{vertices:[24,27,41]},{vertices:[10,32,43]},{vertices:[10,43,11]},{vertices:[8,11,44]},{vertices:[8,44,37]},{vertices:[12,42,26]},{vertices:[12,26,25]},{vertices:[33,38,39]},{vertices:[0,37,44]},{vertices:[0,44,30]},{vertices:[18,46,32]},{vertices:[18,32,31]}]},{id:"4ea04789-61d1-4894-a953-273276a9edfb",vertices:[{x:1.6671842,y:4.59017,z:-2.0967476},{x:1.9098301,y:5.145898,z:-2.381966},{x:2.1884706,y:4.8672576,z:-2.618034},{x:.28521827,y:1.5,z:-.71478176},{x:1.9032522,y:4.354102,z:-2.3328156},{x:.52128625,y:1.263932,z:-.9508497},{x:2.381966,y:5.145898,z:-1.9098301},{x:.71478176,y:1.5,z:-.28521827},{x:.4295635,y:.98684436,z:0},{x:.9508497,y:1.263932,z:-.52128625},{x:0,y:.98684436,z:-.4295635},{x:2.618034,y:4.8672576,z:-2.1884706},{x:2.0967476,y:4.59017,z:-1.6671842},{x:2.3328156,y:4.354102,z:-1.9032522},{x:2.618034,y:5.854102,z:-2.618034},{x:.7082039,y:.7082039,z:-.23606798},{x:.23606798,y:.7082039,z:-.7082039}],faces:[{vertices:[8,15,9]},{vertices:[0,1,2]},{vertices:[11,12,13]},{vertices:[0,2,4]},{vertices:[7,9,13]},{vertices:[7,13,12]},{vertices:[0,4,5]},{vertices:[0,5,3]},{vertices:[5,9,15]},{vertices:[5,15,16]},{vertices:[3,5,10]},{vertices:[0,12,6]},{vertices:[0,6,1]},{vertices:[0,3,7]},{vertices:[0,7,12]},{vertices:[7,8,9]},{vertices:[3,10,8]},{vertices:[3,8,7]},{vertices:[6,12,11]},{vertices:[2,11,13]},{vertices:[2,13,4]},{vertices:[4,13,9]},{vertices:[4,9,5]},{vertices:[5,16,10]}]},{id:"f74369fa-af46-49c1-8d46-58f3ea0479cc",vertices:[{x:3,y:3,z:.47213596},{x:3.2786405,y:2.7213595,z:.7082039},{x:1.5147084,y:.9574275,z:.29179606},{x:1.236068,y:1.236068,z:.05572809},{x:1.236068,y:1.236068,z:.52786404},{x:.9574275,y:1.5147084,z:.29179606},{x:.4295635,y:.98684436,z:0},{x:.7082039,y:.7082039,z:.23606798},{x:2.7213595,y:3.2786405,z:.7082039},{x:3,y:3,z:.9442719},{x:3.527864,y:3.527864,z:1.236068},{x:3.2492237,y:3.8065045,z:1},{x:4.236068,y:4.236068,z:1},{x:3.527864,y:3.527864,z:.76393205},{x:3.8065045,y:3.2492237,z:1},{x:.7082039,y:.7082039,z:-.23606798},{x:.98684436,y:.4295635,z:0}],faces:[{vertices:[0,3,5]},{vertices:[0,5,8]},{vertices:[0,8,11]},{vertices:[0,11,13]},{vertices:[1,9,4]},{vertices:[1,4,2]},{vertices:[1,14,10]},{vertices:[1,10,9]},{vertices:[2,16,15]},{vertices:[2,15,3]},{vertices:[0,1,2]},{vertices:[0,2,3]},{vertices:[4,5,6]},{vertices:[4,6,7]},{vertices:[8,9,10]},{vertices:[8,10,11]},{vertices:[4,9,8]},{vertices:[4,8,5]},{vertices:[0,13,14]},{vertices:[0,14,1]},{vertices:[3,15,6]},{vertices:[3,6,5]},{vertices:[2,4,7]},{vertices:[2,7,16]}]},{id:"7f5d4f02-4610-49a1-ba67-a876c7aafc68",vertices:[{x:.3130823,y:1.618034,z:.7426458},{x:.7426458,y:1.618034,z:.3130823},{x:1.5967478,y:5.236068,z:1.1671842},{x:1.1671842,y:5.236068,z:1.5967478},{x:.23606798,y:.7082039,z:.7082039},{x:.7082039,y:.7082039,z:.23606798},{x:.4295635,y:.98684436,z:0},{x:.4508497,y:1.618034,z:.021286236},{x:1.3049517,y:5.236068,z:.8753882},{x:1.618034,y:5.8672576,z:1.1884705},{x:.8753882,y:5.236068,z:1.3049517},{x:.90983003,y:6.145898,z:1.381966},{x:1.381966,y:6.145898,z:.90983003},{x:1.618034,y:6.854102,z:1.618034},{x:1.1884705,y:5.8672576,z:1.618034},{x:0,y:.98684436,z:.4295635},{x:.021286236,y:1.618034,z:.4508497},{x:0,y:0,z:0}],faces:[{vertices:[1,6,7]},{vertices:[1,7,8]},{vertices:[1,8,9]},{vertices:[1,9,2]},{vertices:[0,15,4]},{vertices:[10,14,11]},{vertices:[0,1,2]},{vertices:[0,2,3]},{vertices:[8,10,11]},{vertices:[8,11,12]},{vertices:[7,16,10]},{vertices:[7,10,8]},{vertices:[0,4,5]},{vertices:[0,5,1]},{vertices:[0,3,14]},{vertices:[0,14,10]},{vertices:[0,10,16]},{vertices:[0,16,15]},{vertices:[2,9,14]},{vertices:[2,14,3]},{vertices:[6,15,16]},{vertices:[6,16,7]},{vertices:[1,5,6]},{vertices:[8,12,9]}]},{id:"d9450062-9d65-4095-8f24-56c41751ac36",vertices:[{x:1.1688592,y:.69672334,z:.9327913},{x:.7082039,y:.23606798,z:.7082039},{x:.7082039,y:.7082039,z:.23606798},{x:4.236068,y:4.236068,z:4.236068},{x:3.3032768,y:3.5393445,z:3.0672088},{x:4,y:3.527864,z:3.527864},{x:3.5393445,y:3.0672088,z:3.3032768},{x:3.527864,y:4,z:3.527864},{x:.69672334,y:.9327913,z:1.1688592},{x:3.0672088,y:3.3032768,z:3.5393445},{x:3.527864,y:3.527864,z:4},{x:.9327913,y:1.1688592,z:.69672334},{x:.23606798,y:.7082039,z:.7082039}],faces:[{vertices:[4,11,8]},{vertices:[4,8,9]},{vertices:[0,1,2]},{vertices:[0,8,1]},{vertices:[0,2,11]},{vertices:[4,5,6]},{vertices:[4,7,5]},{vertices:[4,9,7]},{vertices:[5,10,6]},{vertices:[0,11,4]},{vertices:[0,4,6]},{vertices:[1,8,12]},{vertices:[0,6,9]},{vertices:[0,9,8]},{vertices:[2,12,11]},{vertices:[6,10,9]},{vertices:[7,9,10]},{vertices:[8,11,12]}]}],instances:[{shape:"73c8f4c7-caea-4017-9de0-8bfc11e8f413",color:"#FFFFFF",position:{x:1.618034,y:-6.854102,z:6.854102}},{shape:"4ea04789-61d1-4894-a953-273276a9edfb",color:"#750032",position:{x:0,y:0,z:8.472136},rotation:{x:-.70710677,y:0,z:0,w:.70710677}},{shape:"f74369fa-af46-49c1-8d46-58f3ea0479cc",color:"#647100",position:{x:2.618034,y:-2.618034,z:2.618034},rotation:{x:.5,y:-.5,z:-.5,w:.5}},{shape:"73c8f4c7-caea-4017-9de0-8bfc11e8f413",color:"#FFFFFF",position:{x:-4.236068,y:-4.236068,z:4.236068}},{shape:"7f5d4f02-4610-49a1-ba67-a876c7aafc68",color:"#AF87FF",position:{x:0,y:0,z:8.472136},rotation:{x:1,y:0,z:0,w:0}},{shape:"73c8f4c7-caea-4017-9de0-8bfc11e8f413",color:"#FFFFFF",position:{x:2.618034,y:-2.618034,z:2.618034}},{shape:"73c8f4c7-caea-4017-9de0-8bfc11e8f413",color:"#FFFFFF",position:{x:0,y:0,z:8.472136}},{shape:"4ea04789-61d1-4894-a953-273276a9edfb",color:"#750032",position:{x:-4.236068,y:-4.236068,z:4.236068},rotation:{x:-.5,y:-.5,z:-.5,w:.5}},{shape:"7f5d4f02-4610-49a1-ba67-a876c7aafc68",color:"#AF87FF",position:{x:2.618034,y:-2.618034,z:2.618034},rotation:{x:.5,y:-.5,z:.5,w:.5}},{shape:"d9450062-9d65-4095-8f24-56c41751ac36",color:"#F0A000",position:{x:-4.236068,y:-4.236068,z:4.236068},rotation:{x:0,y:0,z:0,w:1}}]},ur="MODEL_LOADED",dr="FILE_EXPORTED",fr=function(e,t){return function(){var r=Object(lr.a)(cr.a.mark((function r(n,a){var i,o,c;return cr.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n(Vt(t)),i=a().java.controller,o="/"+a().java.fileName.replace(".vZome","."+e),r.next=5,jr(o);case 5:c=r.sent,gr(i,"doFileAction","export."+e,c).then((function(){n(Wt())}));case 7:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}()},mr=function(e){var t=e.position,r=e.rotation,n=r?[r.x,r.y,r.z,r.w]:[1,0,0,0];return Object(j.a)(Object(j.a)({},e),{},{shapeId:e.shape,position:[t.x,t.y,t.z],rotation:n})},vr={javaReady:!1,parser:void 0,readOnly:!0,renderingOn:!0,controller:void 0,fileName:void 0,shapes:sr.shapes,instances:sr.instances.map(mr),previous:sr.instances.map(mr)},hr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"JAVA_CODE_LOADED":return Object(j.a)(Object(j.a)({},e),{},{javaReady:!0,parser:t.payload});case"MODEL_LOAD_STARTED":return Object(j.a)(Object(j.a)({},e),{},{fileName:t.payload,renderingOn:!1,controller:void 0,instances:[],previous:e.instances});case"SHAPE_DEFINED":return Object(j.a)(Object(j.a)({},e),{},{shapes:[].concat(Object(O.a)(e.shapes),[t.payload])});case"INSTANCE_ADDED":return Object(j.a)(Object(j.a)({},e),{},{instances:[].concat(Object(O.a)(e.instances),[mr(t.payload)])});case"INSTANCE_COLORED":var r=e.instances.findIndex((function(e){return e.id===t.payload.id}));return r>=0?Object(j.a)(Object(j.a)({},e),{},{instances:[].concat(Object(O.a)(e.instances.slice(0,r)),[Object(j.a)(Object(j.a)({},e.instances[r]),{},{color:t.payload.color})],Object(O.a)(e.instances.slice(r+1)))}):e;case"INSTANCE_REMOVED":var n=e.instances.findIndex((function(e){return e.id===t.payload.id}));return n>=0?Object(j.a)(Object(j.a)({},e),{},{instances:[].concat(Object(O.a)(e.instances.slice(0,n)),Object(O.a)(e.instances.slice(n+1)))}):e;case ur:return Object(j.a)(Object(j.a)({},e),{},{renderingOn:!0,previous:[]});case"CONTROLLER_RETURNED":return Object(j.a)(Object(j.a)({},e),{},{controller:t.payload});case"LOAD_FAILED":return Object(j.a)({},vr);default:return e}},pr=function(e,t,r,n){r({type:"MODEL_LOAD_STARTED",payload:e}),r(Vt("Parsing vZome model, please be patient..."));var a="/str/"+e;Er(a,t),Lr("com.vzome.cheerpj.JavascriptClientShim","openFile",a).then((function(e){r({type:"CONTROLLER_RETURNED",payload:e}),r(Wt())}))},gr=function(e,t){for(var r,n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i];return(r=window).cjCall.apply(r,[e,t].concat(a))},Lr=function(e,t){for(var r,n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i];return(r=window).cjCall.apply(r,[e,t].concat(a))},jr=function(e){return window.cjNew("java.io.File","/files".concat(e))},Er=function(e,t){return window.cheerpjAddStringFile(e,t)},yr=function(e,t){e.dispatchToRedux=function(e){t.dispatch(JSON.parse(e))},e.fileExported=Xt;e.cheerpjInit({preloadResources:["/lt/runtime/rt.jar.java.nio.js","/lt/cheerpj/Arial.ttf","/lts/rt.jar.c27.txt","/lt/runtime/rt.jar.jdk.js","/lts/rt.jar","/lts/rt.jar.c0.txt","/lts/rt.jar.c1.txt","/lt/runtime/rt.jar.java.util.function.js","/lts/rt.jar.c29.txt","/lts/rt.jar.c28.txt","/lts/rt.jar.c98.txt","/lts/rt.jar.c97.txt","/lts/rt.jar.c37.txt","/lts/rt.jar.c39.txt","/lts/rt.jar.c38.txt","/lts/rt.jar.c82.txt","/lts/rt.jar.c83.txt","/lts/rt.jar.c84.txt","/lts/rt.jar.c85.txt","/lts/rt.jar.c86.txt","/lts/rt.jar.c87.txt","/lts/rt.jar.c88.txt","/lts/rt.jar.c89.txt","/lts/rt.jar.c90.txt","/lts/rt.jar.c91.txt","/lts/rt.jar.c92.txt","/lts/rt.jar.c93.txt","/lts/rt.jar.c94.txt","/lts/rt.jar.c95.txt","/lts/rt.jar.c96.txt","/lts/rt.jar.c81.txt","/lt/runtime/rt.jar.com.sun.org.apache.xml.js","/lt/runtime/rt.jar.java.awt.event.js","/lt/cheerpj/lib/security/java.policy","/lt/runtime/rt.jar.sun.reflect.js","/lt/runtime/rt.jar.javax.swing.event.js","/lt/runtime/rt.jar.javax.swing.js","/lt/runtime/rt.jar.sun.security.provider.js","/lt/cheerpj/lib/security/java.security","/lt/runtime/rt.jar.java.lang.js","/lts/rt.jar.c20.txt","/lts/rt.jar.c21.txt","/lt/runtime/rt.jar.java.nio.file.js","/lt/runtime/rt.jar.java.util.stream.js","/lt/runtime/rt.jar.com.sun.java.js","/lt/runtime/rt.jar.com.sun.org.apache.xerces.internal.dom.js","/lt/runtime/rt.jar.com.sun.org.apache.xerces.internal.impl.dtd.js","/lt/runtime/rt.jar.java.util.concurrent.js","/lt/runtime/rt.jar.com.sun.xml.internal.stream.js","/lt/runtime/rt.jar.com.sun.org.apache.xerces.js","/lt/runtime/rt.jar.com.sun.org.apache.xerces.internal.impl.js","/lt/runtime/rt.jar.com.sun.org.apache.xerces.internal.util.js","/lt/runtime/rt.jar.com.sun.org.apache.xerces.internal.parsers.js","/lt/runtime/rt.jar.com.sun.imageio.js","/lt/runtime/rt.jar.com.js","/lts/rt.jar.c78.txt","/lts/rt.jar.c80.txt","/lts/rt.jar.c79.txt","/lt/runtime/rt.jar.sun.net.js","/lt/runtime/rt.jar.com.sun.org.apache.xml.internal.serializer.js","/lt/runtime/rt.jar.com.sun.org.apache.xml.internal.utils.js","/lt/runtime/rt.jar.com.sun.org.apache.xalan.js","/lt/runtime/rt.jar.sun.net.www.js","/lt/runtime/rt.jar.com.sun.org.apache.xalan.internal.xsltc.js","/lt/runtime/rt.jar.com.sun.org.apache.xerces.internal.jaxp.js","/lt/cheerpj/lib/jaxp.properties","/lt/runtime/rt.jar.javax.xml.js","/lt/runtime/rt.jar.java.awt.dnd.js","/lts/rt.jar.c22.txt","/lts/rt.jar.c23.txt","/lt/runtime/rt.jar.java.security.js","/lt/runtime/rt.jar.java.util.zip.js","/lt/runtime/rt.jar.java.util.jar.js","/lt/cheerpj/lib/security/local_policy.jar","/lts/rt.jar.c24.txt","/lts/rt.jar.c26.txt","/lts/rt.jar.c25.txt","/lt/runtime/rt.jar.jdk.internal.org.js","/lt/runtime/rt.jar.sun.js","/lt/runtime/rt.jar.java.lang.invoke.js","/lt/cheerpj/lib/accessibility.properties","/lt/runtime/rt.jar.sun.awt.im.js","/lt/cheerpj/lib/currency.properties","/lt/cheerpj/lib/currency.data","/lt/runtime/rt.jar.sun.awt.util.js","/lt/runtime/rt.jar.sun.nio.js","/lt/runtime/rt.jar.sun.text.js","/lt/runtime/rt.jar.java.net.js","/lt/cheerpj/lib/ext/localedata.jar","/lt/runtime/rt.jar.java.util.spi.js","/lt/runtime/rt.jar.sun.util.locale.js","/lt/runtime/rt.jar.sun.awt.geom.js","/lt/runtime/rt.jar.java.util.regex.js","/lt/runtime/rt.jar.java.js","/lt/runtime/rt.jar.java.awt.font.js","/lt/cheerpj/lib/tzdb.dat","/lt/runtime/rt.jar.java.io.js","/lt/runtime/rt.jar.sun.awt.resources.js","/lt/runtime/rt.jar.sun.misc.js","/lt/runtime/rt.jar.javax.js","/lt/runtime/rt.jar.java.util.logging.js","/lt/runtime/rt.jar.java.awt.im.js","/lt/runtime/rt.jar.java.beans.js","/lt/runtime/rt.jar.java.text.js","/lts/rt.jar.c2.txt","/lt/runtime/rt.jar.java.util.concurrent.locks.js","/lt/runtime/rt.jar.java.util.concurrent.atomic.js","/lts/rt.jar.c73.txt","/lts/rt.jar.c75.txt","/lts/rt.jar.c74.txt","/lt/runtime/rt.jar.java.util.js","/lts/meta-index.c0.txt","/lts/meta-index","/lt/runtime/rt.jar.sun.util.js","/lt/cheerpj/lib/logging.properties","/lt/runtime/rt.jar.org.js","/lt/runtime/rt.jar.com.sun.org.apache.xerces.internal.impl.dv.js","/lts/rt.jar.c19.txt","/lts/rt.jar.c18.txt","/lt/runtime/rt.jar.java.awt.js","/lt/runtime/rt.jar.sun.font.js","/lt/runtime/rt.jar.java.awt.geom.js","/lt/runtime/rt.jar.sun.awt.js"],status:"splash",javaProperties:["java.protocol.handler.pkgs=com.leaningtech.handlers"]});var r="/app"+e.location.pathname+"/",n="".concat(r,"desktop-7.0.jar:").concat(r,"cheerpj-dom.jar:").concat(r,"core-7.0.jar:").concat(r,"jackson-annotations-2.9.3.jar:").concat(r,"jackson-core-2.9.5.jar:").concat(r,"jackson-databind-2.9.5.jar:").concat(r,"javax.json-1.0.4.jar:").concat(r,"vecmath-1.6.0-final.jar");e.cheerpjRunMain("com.vzome.cheerpj.JavascriptClientShim",n,"INFO").then((function(){t.dispatch({type:"JAVA_CODE_LOADED",payload:pr});var r="/app/models/vZomeLogo.vZome",n=new URLSearchParams(e.location.search);n.has("url")&&(r=decodeURI(n.get("url"))),t.dispatch(Kt(r))}))},br={backgroundColor:"#BBDAED",ambientColor:"#292929",directionalLights:[{direction:[1,-1,-1],color:"#EBEBE4"},{direction:[-1,0,0],color:"#E4E4EB"},{direction:[0,0,-1],color:"#1E1E1E"}]},zr=function(e){var t=e.color,r=e.direction;return{color:t,direction:Object(O.a)(Object.values(r))}},Or=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:br,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LIGHTS_DEFINED":return Object(j.a)(Object(j.a)(Object(j.a)({},e),t.payload),{},{directionalLights:t.payload.directionalLights.map(zr)});default:return e}},wr=r(6),xr=r(8),Mr=r(9),kr=r(10),Sr=function(){return function(e,t){var r=xe(t()),n=r.shown,a=r.hidden,i=r.selected,o=ke(t());n=new Map(n);var c,l=o.createRational(1,i.size),s=void 0,u=Object(S.a)(i);try{for(u.s();!(c=u.n()).done;){var d=Object(D.a)(c.value,2),f=d[0],m=d[1];n.set(f,m),s=s?o.vectoradd(s,m.vectors[0]):m.vectors[0]}}catch(nn){u.e(nn)}finally{u.f()}var v=[o.scalarmul(l,s)],h=k(v),p=h.id;h=n.get(p)||i.get(p)||a.get(p)||h,n.delete(p)||i.delete(p)||a.delete(p),i=(new Map).set(h.id,h),e(w(n,i,a))}},Dr=function(){return function(e,t){var r=xe(t()),n=r.shown,a=r.hidden,i=r.selected,o=ke(t());n=new Map(n);var c,l=void 0,s=Object(S.a)(i);try{for(s.s();!(c=s.n()).done;){var u=Object(D.a)(c.value,2),d=u[0],f=u[1];n.set(d,f),l||(l=f.vectors[0])}}catch(nn){s.e(nn)}finally{s.f()}var m=o.vectoradd(l,[[2,3,1],[1,2,1],[0,0,1]]),v=k([m]),h=k([l,m]);v=n.get(v.id)||i.get(v.id)||a.get(v.id)||v,n.delete(v.id)||i.delete(v.id)||a.delete(v.id),h=n.get(h.id)||i.get(h.id)||a.get(h.id)||h,n.delete(h.id)||i.delete(h.id)||a.delete(h.id),i=(new Map).set(h.id,h).set(v.id,v),e(w(n,i,a))}},Cr=function(e,t){t.dispatch(Ar({centroid:Sr,shortred:Dr,buildstrut:Ce}))},Ar=function(e){return{type:"COMMANDS_DEFINED",payload:e}},Rr=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(r,n){switch(e){case"allSelected":r({type:"ALL_SELECTED"});break;case"allDeselected":r({type:"ALL_DESELECTED"});break;default:r((0,n().commands[e])(t))}}},Pr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"COMMANDS_DEFINED":var r=t.payload;return Object(j.a)(Object(j.a)({},e),r);default:return e}},Fr=function(e,t){return{type:"SHAPER_DEFINED",payload:{name:e,shaper:t}}},Nr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHAPER_DEFINED":var r=t.payload,n=r.name,a=r.shaper;return Object(j.a)(Object(j.a)({},e),{},Object(le.a)({},n,a));default:return e}},Tr=function(){function e(t,r,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];Object(wr.a)(this,e),this.shown=t,this.hidden=n,this.selected=r,this.groups=a}return Object(xr.a)(e,[{key:"clone",value:function(){return new e(new Map(this.shown),new Map(this.selected),new Map(this.hidden),Object(O.a)(this.groups))}},{key:"selectAll",value:function(){var e=this.selected;this.selected=this.shown,this.shown=e}},{key:"clearSelection",value:function(){var e=this.shown;this.shown=this.selected,this.selected=e}},{key:"select",value:function(e){var t=k(e).id;if(!this.selected.has(t)){var r=this.shown.get(t);if(!r)throw new Error("No shown instance to select at ".concat(t));this.shown.delete(t),this.selected.set(t,r)}}},{key:"unselect",value:function(e){var t=k(e).id,r=this.selected.get(t);this.selected.delete(t),this.shown.set(t,r)}},{key:"selectionSize",value:function(){return this.selected.size}},{key:"selectedIterator",value:function(){return Array.from(this.selected.values()).map((function(e){return e.vectors})).values()}},{key:"createGroup",value:function(){if(!this.selectionIsGroup()){var e=Array.from(this.selected.keys());this.groups.push(e)}}},{key:"disbandGroup",value:function(){var e=this;this.groups=this.groups.filter((function(t){return t.length!==e.selected.size||t.some((function(t){return!e.selected.has(t)}))}))}},{key:"createLegacyGroup",value:function(){throw new Error("createLegacyGroup is not yet implemented")}},{key:"disbandLegacyGroup",value:function(){throw new Error("disbandLegacyGroup is not yet implemented")}},{key:"selectWithGrouping",value:function(e){var t=this,r=k(e).id;if(!this.selected.has(r)){var n=this.getLargestGroup(e);if(n)n.forEach((function(e){var r=t.shown.get(e)||t.selected.get(e);t.shown.delete(e),t.selected.set(e,r)}));else{var a=this.shown.get(r);if(!a)throw new Error("No shown instance to select at ".concat(r));this.shown.delete(r),this.selected.set(r,a)}}}},{key:"unselectWithGrouping",value:function(e){var t=this,r=k(e).id;if(this.selected.has(r)){var n=this.getLargestGroup(e);if(n)n.forEach((function(e){var r=t.shown.get(e)||t.selected.get(e);t.selected.delete(e),t.shown.set(e,r)}));else{var a=this.selected.get(r);this.selected.delete(r),this.shown.set(r,a)}}}},{key:"selectionIsGroup",value:function(){return!!this.getSelectionGroup()}},{key:"getSelectionGroup",value:function(){var e=this,t=this.selected.size;return 0!==t&&this.groups.find((function(r){return r.length===t&&r.every((function(t){return e.selected.has(t)}))}))}},{key:"getLargestGroup",value:function(e){var t,r=this,n=k(e).id,a=this.groups.filter((function(e){return e.includes(n)}));if(0===a.length)return null;var i=0;return a.map((function(e){e.length>i&&(t=e,i=e.length)})),t&&t.map((function(e){return(r.selected.get(e)||r.shown.get(e)).vectors}))}},{key:"delete",value:function(e){var t=k(e).id;this.shown.delete(t),this.selected.delete(t),this.hidden.delete(t)}},{key:"manifestationRendered",value:function(e){var t=k(e).id;return this.shown.has(t)||this.selected.has(t)}},{key:"manifestationHidden",value:function(e){var t=k(e).id;return this.hidden.has(t)}},{key:"manifestationSelected",value:function(e){var t=k(e).id;return this.selected.has(t)}},{key:"manifestationHasColor",value:function(e){var t=k(e).id,r=this.shown.get(t)||this.selected.get(t);return r&&!!r.color}},{key:"manifestationColor",value:function(e){var t=k(e).id;return(this.shown.get(t)||this.selected.get(t)).color}},{key:"setManifestationColor",value:function(e,t){var r=k(e);r.color=t,this.shown.has(r.id)?this.shown.set(r.id,r):this.selected.has(r.id)&&this.selected.set(r.id,r)}},{key:"findOrCreateManifestation",value:function(e){var t=k(e).id,r=this.shown.get(t)||this.hidden.get(t)||this.selected.get(t);return r?r.vectors:e}},{key:"showManifestation",value:function(e){var t=k(e);this.shown.has(t.id)||this.selected.has(t.id)||(this.hidden.delete(t.id),this.shown.set(t.id,t))}},{key:"hideManifestation",value:function(e){var t=k(e);t=this.shown.get(t.id)||this.selected.get(t.id)||this.hidden.get(t.id)||t,this.selected.delete(t.id)||this.shown.delete(t.id),this.hidden.set(t.id,t)}},{key:"allIterator",value:function(){var e=Array.from(this.shown.values()),t=Array.from(this.selected.values()),r=Array.from(this.hidden.values());return[].concat(Object(O.a)(e),Object(O.a)(t),Object(O.a)(r)).map((function(e){return e.vectors})).values()}}]),e}(),_r={readOnly:!1,parser:void 0,working:!1},Ir=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_r,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PARSER_READY":return Object(j.a)(Object(j.a)({},e),{},{parser:t.payload});case"WORK_STARTED":return Object(j.a)(Object(j.a)({},e),{},{working:!0});case"WORK_FINISHED":return Object(j.a)(Object(j.a)({},e),{},{working:!1});default:return e}},Br={"color.red":"175,0,0","color.yellow":"240,160,0","color.blue":"0,118,149","color.green":"0,141,54","color.orange":"220,76,0","color.purple":"108,0,198","color.black":"30,30,30","color.white":"225,225,225","color.olive":"100,113,0","color.lavender":"175,135,255","color.maroon":"117,0,50","color.rose":"255,51,143","color.navy":"0,0,153","color.brown":"107,53,26","color.apple":"116,195,0","color.sand":"154,117,74","color.turquoise":"18,205,148","color.coral":"255,126,106","color.sulfur":"230,245,62","color.cinnamon":"136,37,0","color.spruce":"18,73,48","color.magenta":"255,41,183","color.snubPentagon":"187,57,48","color.snubTriangle":"87,188,48","color.snubDiagonal":"228,225,199","color.snubFaceNormal":"216,216,208","color.snubVertex":"204,204,0","color.slate":"108, 126, 142","color.mauve":"137, 104, 112","color.ivory":"228,225,199","color.panels":"225,225,225","color.background":"175,200,220","color.highlight":"195,195,195","color.highlight.mac ":"153,255,0","color.light.directional.1":"235, 235, 228","color.light.directional.2":"228, 228, 235","color.light.directional.3":"30, 30, 30","color.light.ambient":"41, 41, 41","direction.light.1":"1.0,-1.0,-1.0","direction.light.2":"-1.0,0.0,0.0","direction.light.3":"0.0,0.0,-1.0"},Gr=["apple","black","blue","brown","cinnamon","connector","coral","green","lavender","maroon","navy","olive","orange","purple","red","rose","sand","snubDiagonal","snubPentagon","snubTriangle","spruce","sulfur","turquoise","yellow"],Hr=["bigzome","default","dodecagon3d","dodecs","heptagon/antiprism","lifelike","moves.sh","noTwist","octahedral","octahedralFast","octahedralRealistic","pentagonal","rootThreeOctaSmall","rootTwo","rootTwoBig","rootTwoSmall","sqrtPhi/fivefold","sqrtPhi/zome","sqrtPhi/tinyIcosahedra","sqrtPhi/octahedra","tiny","vienne","vienne2","vienne3"],Zr=function(e){return e.map((function(e){for(var t=[[],[],[]],r=0;r<3;r++)for(var n=0;n<3;n++){var a=e.getElement(r,n);t[r][n]=a.evaluate()}return Jr(t)}))},Jr=function(e){var t,r=Object(D.a)(e,3),n=Object(D.a)(r[0],3),a=n[0],i=n[1],o=n[2],c=Object(D.a)(r[1],3),l=c[0],s=c[1],u=c[2],d=Object(D.a)(r[2],3),f=d[0],m=d[1],v=d[2];return(v<0?a>s?[t=1+a-s-v,l+i,o+f,m-u]:[l+i,t=1-a+s-v,m+u,o-f]:a<-s?[o+f,m+u,t=1-a-s+v,l-i]:[m-u,o-f,l-i,t=1+a+s+v]).map((function(e){return.5*e/Math.sqrt(t)}))},Vr=function(){var e=Object(lr.a)(cr.a.mark((function e(t,r){var n,a,i,o,c,l,s,u,d,f,m,v,h,p,g,L,j,E,y,b,z,O,w,x,M,k,S;return cr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.com.vzome,a=t.java.util,i=function(e){Object(Mr.a)(r,e);var t=Object(kr.a)(r);function r(){return Object(wr.a)(this,r),t.apply(this,arguments)}return Object(xr.a)(r,[{key:"parseMeshData",value:function(e,t,r){var a=this,i=JSON.parse(this.meshData),o=r.getField(i.field),c=i.vertices.map((function(t){var r=o.createIntegerVectorFromTDs(t);return r.dimension()>3&&(r=a.projection.projectImage(r,!1)),null!=e&&(r=e.plus(r)),r}));i.balls.forEach((function(e){var r=c[e.vertex],a=e.color&&n.core.construction.Color.parseWebColor(e.color);t.constructionAdded(new n.core.construction.FreePoint(r),a)})),i.struts.forEach((function(e){var r=new n.core.construction.FreePoint(c[e.vertices[0]]),a=new n.core.construction.FreePoint(c[e.vertices[1]]),i=e.color&&n.core.construction.Color.parseWebColor(e.color);t.constructionAdded(new n.core.construction.SegmentJoiningPoints(r,a),i)}))}}]),r}(n.core.edits.ImportMesh),o=function(e){Object(Mr.a)(r,e);var t=Object(kr.a)(r);function r(){return Object(wr.a)(this,r),t.apply(this,arguments)}return Object(xr.a)(r,[{key:"parseMeshData",value:function(e,t,r){var a=this,i=JSON.parse(this.meshData),o=r.getField(i.field||"golden"),c=i.vertices.map((function(t){var r=o.createIntegerVectorFromTDs(t);return r.dimension()>3&&(r=a.projection.projectImage(r,!1)),null!=e&&(r=e.plus(r)),r}));i.edges.forEach((function(e){var r=new n.core.construction.FreePoint(c[e[0]]),a=new n.core.construction.FreePoint(c[e[1]]);t.constructionAdded(r),t.constructionAdded(a),t.constructionAdded(new n.core.construction.SegmentJoiningPoints(r,a))}))}}]),r}(n.core.edits.ImportMesh),c=function(e){return e={setItemColor:"ColorManifestations",BnPolyope:"B4Polytope",DeselectByClass:"AdjustSelectionByClass",realizeMetaParts:"RealizeMetaParts",SelectSimilarSize:"AdjustSelectionByOrbitLength",zomic:"RunZomicScript",py:"RunPythonScript",apiProxy:"ApiEdit"}[e]||e,n.core.edits[e]||n.core.editor[e]},l=function(e,t,r){return function(a){var l=a.getLocalName();if("Snapshot"===l)return null;if("ImportColoredMeshJson"===l)return new i(e);if("ImportSimpleMeshJson"===l)return new o(e);if(r){var s=r.createEdit(l);if(s)return s}var u=a.getAttribute("name");if(u){var d=t.get(l);if(d){var f=d.deserializeTool(u);if(f)return f}}var m=c(l);return m?new m(e):new n.core.editor.CommandEdit(null,e)}},s=function(){var e=Object(lr.a)(cr.a.mark((function e(t){var r,a,i;return cr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="/app/resources/".concat(t),e.next=3,fetch(r);case 3:if((a=e.sent).ok){e.next=7;break}return console.log("No resource for ".concat(r)),e.abrupt("return");case 7:return e.next=9,a.text();case 9:if("<"!==(i=e.sent)[0]){e.next=12;break}return e.abrupt("return");case 12:n.xml.ResourceLoader.injectResource(t,i),console.log("injected resource ".concat(t));case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.next=9,Promise.all([s("com/vzome/core/math/symmetry/binaryTetrahedralGroup.vef"),s("com/vzome/core/math/symmetry/H4roots-rotationalSubgroup.vef"),s("com/vzome/core/math/symmetry/H4roots.vef")]);case 9:for(u=new Ur(Br),d=new n.core.render.Colors(u),f=new n.jsweet.JsAlgebraicField(ce),m={golden:new n.core.kinds.GoldenFieldApplication(f)},v={createEdit:function(){throw new Error("createEdit should never be called")},createLegacyCommand:function(e){var t=n.core.commands[e];if(t)return new t;throw new Error("".concat(e," command is not available yet"))},performAndRecord:function(e){return e.perform()}},h=function(e,t,r){var i=m[e];if(!i)throw new Error('Field "'.concat(e,'" is not supported yet.'));for(var o=i.getField(),c=new n.core.construction.FreePoint(o.origin(3)),s=r&&r.getChildElement("SymmetrySystem"),u=s&&s.getAttribute("name"),f=u&&i.getSymmetryPerspective(u)||i.getDefaultSymmetryPerspective(),h=new n.core.editor.ToolsModel(v,c),p={},g=i.getSymmetryPerspectives().iterator();g.hasNext();){var L=g.next(),j=new n.core.editor.SymmetrySystem(null,L,v,d,!0);p[j.getName()]=j}var E=new n.core.editor.SymmetrySystem(s,f,v,d,!0);p[f.getName()]=E,E.quaternions=Zr(E.getSymmetry().getMatrices());var y={__interfaces:["com.vzome.core.math.symmetry.OrbitSet.Field"],getGroup:function(e){return p[e].getOrbits()},getQuaternionSet:function(e){return i.getQuaternionSymmetry(e)}},b=t&&n.core.commands.XmlSymmetryFormat.getFormat(t);b&&b.initialize(o,y,0,"vZome Online",new a.Properties);var z=new a.HashMap;i.registerToolFactories(z,h);var O=new n.jsweet.JsRealizedModel(o),w=new n.jsweet.JsSelection(o),x=new n.jsweet.JsEditorModel(O,w,i,E,p);h.setEditorModel(x),E.createToolFactories(h),new n.core.tools.BookmarkTool.Factory(h).createPredefinedTool("ball at origin");var M=r&&r.getChildElement("Tools");M&&h.loadFromXml(M);var k=Wr(n,E);k.shapesName=E.getShapes().getName();return{shaper:k,createEditFromXml:function(e){var t=l(x,z,h)(e);if(t)return t.deserializeAndPerform=function(r){x.setAdapter(r),t.loadAndPerform(e,b,v)},t},configureAndPerformEdit:function(e,t,r){var n=l(x,z,h)(new Xr({localName:e}));n&&(x.setAdapter(r),n.configure(new Ur(t)),n.perform())}}},p={},g=0,L=Object.keys(n.core.edits);g<L.length;g++)j=L[g],p[j]=qr(h,j);return r.dispatch(Ar(p)),E=m.golden.getDefaultSymmetryPerspective(),(y=new n.core.editor.SymmetrySystem(null,E,v,d,!0)).quaternions=Zr(y.getSymmetry().getMatrices()),b=Wr(n,y),z=y.getShapes().getName(),O=[[0,0,1],[0,0,1],[1,0,1]],[[0,0,1],[1,0,1],[1,1,1]],[[1,0,1],[0,0,1],[0,1,1]],[[1,0,1],[1,0,1],[0,0,1]],w=n.jsweet.JsAdapter.getZoneGrid(y,O),r.dispatch(_e(w)),x=Qr(h),M=[],Hr.forEach((function(e){return Gr.forEach((function(t){return M.push("com/vzome/core/parts/".concat(e,"/").concat(t,".vef"))}))})),e.next=34,Promise.all(M.map(s));case 34:r.dispatch(Fr(z,b)),r.dispatch({type:"PARSER_READY",payload:x}),r.getState().workingPlane||(k="/app/models/vZomeLogo.vZome",(S=new URLSearchParams(t.location.search)).has("url")&&(k=decodeURI(S.get("url"))),r.dispatch(Kt(k)));case 37:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Wr=function(e,t){return function(r){return function(n){var a=n.id,i=n.vectors,o=(n.color,t.getSymmetry().getField()),c=new Map;c.set(a,n);var l=new Tr(c,new Map,new Map),s=e.jsweet.JsManifestation.manifest(i,o,l),u=new e.core.render.RenderedManifestation(s,t);if(u.resetAttributes(!1,!0),u.getShape()){var d=u.getShapeId().toString();r[d]||(r[d]=function(e){var t=e.getVertexList().toArray().map((function(e){var t=e.toRealVector();return{x:t.x,y:t.y,z:t.z}})),r=e.getTriangleFaces().toArray();return{id:e.getGuid().toString(),vertices:t,faces:r}}(u.getShape()));var f=u.getLocationAV()||o.origin(3),m=t.getSymmetry().embedInR3(f),v=m.x,h=m.y,p=m.z,g=u.getStrutZone();return{id:a,position:[v,h,p],rotation:g&&g>=0&&t.quaternions[g]||[0,0,0,1],color:u.getColor().getRGB(),shapeId:d}}}}},Ur=function(){function e(t){Object(wr.a)(this,e),this.config=t}return Object(xr.a)(e,[{key:"getProperty",value:function(e){return this.config[e]}},{key:"get",value:function(e){return this.config[e]}}]),e}(),qr=function(e,t){return function(r){return function(n,a){var i=ke(a()),o=xe(a()),c=o.shown,l=o.hidden,s=o.selected;c=new Map(c),l=new Map(l),s=new Map(s);var u=new Tr(c,s,l);e(i.name).configureAndPerformEdit(t,r,u),n({type:"WORK_STARTED"}),n(w(c,s,l)),n({type:"WORK_FINISHED"})}}},Kr=function(){function e(t){Object(wr.a)(this,e),this.nativeNodeList=t,this.__interfaces=["org.w3c.dom.NodeList"]}return Object(xr.a)(e,[{key:"getLength",value:function(){return this.nativeNodeList.length}},{key:"item",value:function(e){var t=this.nativeNodeList.item(e);return 1===t.nodeType?new Xr(t):t}}]),e}(),Xr=function(){function e(t){Object(wr.a)(this,e),this.nativeElement=t,this.__interfaces=["org.w3c.dom.Element"]}return Object(xr.a)(e,[{key:"getAttribute",value:function(e){return this.nativeElement.getAttribute&&this.nativeElement.getAttribute(e)}},{key:"getLocalName",value:function(){return this.nativeElement.localName}},{key:"getTextContent",value:function(){return this.nativeElement.textContent}},{key:"getChildNodes",value:function(){return new Kr(this.nativeElement.childNodes)}},{key:"getChildElement",value:function(t){for(var r=this.nativeElement.firstElementChild;r&&t.toLowerCase()!==r.nodeName.toLowerCase();)r=r.nextElementSibling;return r&&new e(r)}},{key:"getElementsByTagName",value:function(t){for(var r=this.nativeElement.firstElementChild,n=[];r;)t.toLowerCase()===r.nodeName.toLowerCase()&&n.push(new e(r)),r=r.nextElementSibling;return{getLength:function(){return n.length},item:function(e){return n[e]}}}}]),e}(),Qr=function(e){return function(t,r,n,a){n(Vt("Parsing vZome file..."));var i=a().fields;try{var o=(new DOMParser).parseFromString(r,"application/xml"),c=new Xr(o.firstElementChild),l=c.getAttribute("xmlns:vzome"),s=c.getAttribute("field"),u=ce.origin(3),d=k([u]),f=(new Map).set(d.id,d),m=new Map,v=new Map,h=e(s,l,c),p=h.shaper,g=h.createEditFromXml,L=Le(i[s],p.shapesName);n(Fr(p.shapesName,p));var j=c.getChildElement("EditHistory").nativeElement,E=parseInt(j.getAttribute("editNumber")),y=0,b=j.firstElementChild;for(!function e(t,r,n,a){do{if(console.log(t.outerHTML),"Branch"===t.nodeName){var i=r.clone();e(t.firstElementChild,i,(function(){return{}}),0)}else{var o=new Xr(t);r=r.clone();var c=g(o);c&&(c.deserializeAndPerform(r),L=ge(L,n(r)))}y+=a,t=t.nextElementSibling}while(t)}(b,new Tr(f,v,m),(function(e){var t=e.shown,r=e.selected,n=e.hidden;return w(t,r,n)}),1),console.log("target is ".concat(E,", currentEdit is ").concat(y));y>E;)L=ge(L,ue.ActionCreators.undo()),--y;console.log("target is ".concat(E,", currentEdit is ").concat(y));var z=c.getChildElement("Viewing");z&&(L=ge(L,pe(z)));var O=t.lastIndexOf(".");O>0&&(t=t.substring(0,O)),n(Oe(t,L))}catch(x){console.log(x),n(nt("Unable to parse model file: ".concat(t,";\n ").concat(x.message)))}n(Wt())}},Yr=Object(le.a)({},ce.name,ce),$r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yr;return e},en={lighting:s,fields:m},tn=new URLSearchParams(window.location.search);switch(tn.get("profile")||tn.get("editMode")){case"jsweet":ar=Object(j.a)(Object(j.a)({},en),{},{java:l,camera:n,alerts:o,progress:c});break;case"plane":ar=Object(j.a)(Object(j.a)({},en),{},{java:f,models:a,shapers:d,workingPlane:i});break;default:ar=Object(j.a)(Object(j.a)({},en),{},{java:f,models:a,shapers:d,commands:u,alerts:o,progress:c})}var rn=function(e){var t=Object.keys(ar),r=t.reduce((function(e,t){var r=ar[t].reducer;return r&&(e[t]=r),e}),{});console.log("bundle reducers: ".concat(JSON.stringify(Object.keys(r))));var n=Object(se.c)(r),a=Object(se.d)(n,se.a.apply(void 0,Object(O.a)(e)));return t.map((function(e){var t=ar[e].init;return t&&(console.log("bundle init: ".concat(e)),t(window,a)),null})),a}([L.a]);Object(g.render)(h.a.createElement(p.a,{store:rn},h.a.createElement(ir,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[136,1,2]]]);
//# sourceMappingURL=main.9a10a83d.chunk.js.map